2026-02-09 16:06:06.835 +07:00 [INF] Registered 4 endpoints in 404 milliseconds.
2026-02-09 16:06:07.681 +07:00 [INF] SQL (11ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 16:06:07.917 +07:00 [INF] SQL (11ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 16:06:07.934 +07:00 [INF] SQL (5ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 16:06:07.937 +07:00 [INF] SQL (1ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 16:06:08.140 +07:00 [INF] SQL (2ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 16:06:08.180 +07:00 [WRN] No XML encryptor configured. Key {1b7b2ae1-bae7-441b-8195-105432f66c0e} may be persisted to storage in unencrypted form.
2026-02-09 16:06:08.399 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 16:06:08.572 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 16:06:08.639 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 66ms 
2026-02-09 16:06:08.692 +07:00 [INF] HTTP GET /swagger/swagger-ui.css responded 200 in 10ms 
2026-02-09 16:06:08.711 +07:00 [INF] HTTP GET /swagger/swagger-ui-standalone-preset.js responded 200 in 19ms 
2026-02-09 16:06:08.721 +07:00 [INF] HTTP GET /swagger/swagger-ui-standalone-preset.js responded 200 in 2ms 
2026-02-09 16:06:08.757 +07:00 [INF] HTTP GET /swagger/swagger-ui-bundle.js responded 200 in 67ms 
2026-02-09 16:06:08.989 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 2ms 
2026-02-09 16:06:09.296 +07:00 [INF] HTTP GET /swagger/swagger-ui-bundle.js responded 200 in 16ms 
2026-02-09 16:06:09.645 +07:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 455ms 
2026-02-09 16:06:25.500 +07:00 [INF] SQL (30ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 16:06:25.586 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-09 16:06:25.635 +07:00 [INF] SQL (33ms)
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."DeletedAt", u1."DeletedBy", u1."Email", u1."FirstName", u1."IsActive", u1."LastName", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s0."UserId", s0."RoleId", s0."AssignedAt", s0."CreatedAt", s0."CreatedBy", s0."DeletedAt", s0."DeletedBy", s0."Id", s0."UpdatedAt", s0."UpdatedBy", s0."Id0", s0."CreatedAt0", s0."CreatedBy0", s0."DeletedAt0", s0."DeletedBy0", s0."Description", s0."Name", s0."UpdatedAt0", s0."UpdatedBy0", s0."RoleId0", s0."PermissionId", s0."CreatedAt1", s0."CreatedBy1", s0."DeletedAt1", s0."DeletedBy1", s0."Id1", s0."UpdatedAt1", s0."UpdatedBy1", s0."Id00", s0."CreatedAt00", s0."CreatedBy00", s0."DeletedAt00", s0."DeletedBy00", s0."Description0", s0."Name0", s0."UpdatedAt00", s0."UpdatedBy00"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."DeletedBy", u."Email", u."FirstName", u."IsActive", u."LastName", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", u0."AssignedAt", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."DeletedBy", u0."Id", u0."UpdatedAt", u0."UpdatedBy", r0."Id" AS "Id0", r0."CreatedAt" AS "CreatedAt0", r0."CreatedBy" AS "CreatedBy0", r0."DeletedAt" AS "DeletedAt0", r0."DeletedBy" AS "DeletedBy0", r0."Description", r0."Name", r0."UpdatedAt" AS "UpdatedAt0", r0."UpdatedBy" AS "UpdatedBy0", s."RoleId" AS "RoleId0", s."PermissionId", s."CreatedAt" AS "CreatedAt1", s."CreatedBy" AS "CreatedBy1", s."DeletedAt" AS "DeletedAt1", s."DeletedBy" AS "DeletedBy1", s."Id" AS "Id1", s."UpdatedAt" AS "UpdatedAt1", s."UpdatedBy" AS "UpdatedBy1", s."Id0" AS "Id00", s."CreatedAt0" AS "CreatedAt00", s."CreatedBy0" AS "CreatedBy00", s."DeletedAt0" AS "DeletedAt00", s."DeletedBy0" AS "DeletedBy00", s."Description" AS "Description0", s."Name" AS "Name0", s."UpdatedAt0" AS "UpdatedAt00", s."UpdatedBy0" AS "UpdatedBy00"
    FROM user_roles AS u0
    INNER JOIN (
        SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
        FROM roles AS r
        WHERE r."DeletedAt" IS NULL
    ) AS r0 ON u0."RoleId" = r0."Id"
    LEFT JOIN (
        SELECT r1."RoleId", r1."PermissionId", r1."CreatedAt", r1."CreatedBy", r1."DeletedAt", r1."DeletedBy", r1."Id", r1."UpdatedAt", r1."UpdatedBy", p0."Id" AS "Id0", p0."CreatedAt" AS "CreatedAt0", p0."CreatedBy" AS "CreatedBy0", p0."DeletedAt" AS "DeletedAt0", p0."DeletedBy" AS "DeletedBy0", p0."Description", p0."Name", p0."UpdatedAt" AS "UpdatedAt0", p0."UpdatedBy" AS "UpdatedBy0"
        FROM role_permissions AS r1
        INNER JOIN (
            SELECT p."Id", p."CreatedAt", p."CreatedBy", p."DeletedAt", p."DeletedBy", p."Description", p."Name", p."UpdatedAt", p."UpdatedBy"
            FROM permissions AS p
            WHERE p."DeletedAt" IS NULL
        ) AS p0 ON r1."PermissionId" = p0."Id"
        WHERE r1."DeletedAt" IS NULL
    ) AS s ON r0."Id" = s."RoleId"
    WHERE u0."DeletedAt" IS NULL
) AS s0 ON u1."Id" = s0."UserId"
ORDER BY u1."Id", s0."UserId", s0."RoleId", s0."Id0", s0."RoleId0", s0."PermissionId"
2026-02-09 16:06:26.328 +07:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 1151ms 
2026-02-09 16:06:26.328 +07:00 [WRN] Slow HTTP POST /api/v1/auth/login responded 200 in 1151ms 
2026-02-09 16:08:24.122 +07:00 [INF] Registered 4 endpoints in 283 milliseconds.
2026-02-09 16:08:24.633 +07:00 [INF] SQL (11ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 16:08:24.761 +07:00 [INF] SQL (5ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 16:08:24.769 +07:00 [INF] SQL (0ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 16:08:24.770 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 16:08:24.889 +07:00 [INF] SQL (2ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 16:08:24.963 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 16:08:30.687 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 16:08:30.822 +07:00 [INF] SQL (9ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 16:08:30.900 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-09 16:08:30.926 +07:00 [INF] SQL (8ms)
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."DeletedAt", u1."DeletedBy", u1."Email", u1."FirstName", u1."IsActive", u1."LastName", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s0."UserId", s0."RoleId", s0."AssignedAt", s0."CreatedAt", s0."CreatedBy", s0."DeletedAt", s0."DeletedBy", s0."Id", s0."UpdatedAt", s0."UpdatedBy", s0."Id0", s0."CreatedAt0", s0."CreatedBy0", s0."DeletedAt0", s0."DeletedBy0", s0."Description", s0."Name", s0."UpdatedAt0", s0."UpdatedBy0", s0."RoleId0", s0."PermissionId", s0."CreatedAt1", s0."CreatedBy1", s0."DeletedAt1", s0."DeletedBy1", s0."Id1", s0."UpdatedAt1", s0."UpdatedBy1", s0."Id00", s0."CreatedAt00", s0."CreatedBy00", s0."DeletedAt00", s0."DeletedBy00", s0."Description0", s0."Name0", s0."UpdatedAt00", s0."UpdatedBy00"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."DeletedBy", u."Email", u."FirstName", u."IsActive", u."LastName", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", u0."AssignedAt", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."DeletedBy", u0."Id", u0."UpdatedAt", u0."UpdatedBy", r0."Id" AS "Id0", r0."CreatedAt" AS "CreatedAt0", r0."CreatedBy" AS "CreatedBy0", r0."DeletedAt" AS "DeletedAt0", r0."DeletedBy" AS "DeletedBy0", r0."Description", r0."Name", r0."UpdatedAt" AS "UpdatedAt0", r0."UpdatedBy" AS "UpdatedBy0", s."RoleId" AS "RoleId0", s."PermissionId", s."CreatedAt" AS "CreatedAt1", s."CreatedBy" AS "CreatedBy1", s."DeletedAt" AS "DeletedAt1", s."DeletedBy" AS "DeletedBy1", s."Id" AS "Id1", s."UpdatedAt" AS "UpdatedAt1", s."UpdatedBy" AS "UpdatedBy1", s."Id0" AS "Id00", s."CreatedAt0" AS "CreatedAt00", s."CreatedBy0" AS "CreatedBy00", s."DeletedAt0" AS "DeletedAt00", s."DeletedBy0" AS "DeletedBy00", s."Description" AS "Description0", s."Name" AS "Name0", s."UpdatedAt0" AS "UpdatedAt00", s."UpdatedBy0" AS "UpdatedBy00"
    FROM user_roles AS u0
    INNER JOIN (
        SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
        FROM roles AS r
        WHERE r."DeletedAt" IS NULL
    ) AS r0 ON u0."RoleId" = r0."Id"
    LEFT JOIN (
        SELECT r1."RoleId", r1."PermissionId", r1."CreatedAt", r1."CreatedBy", r1."DeletedAt", r1."DeletedBy", r1."Id", r1."UpdatedAt", r1."UpdatedBy", p0."Id" AS "Id0", p0."CreatedAt" AS "CreatedAt0", p0."CreatedBy" AS "CreatedBy0", p0."DeletedAt" AS "DeletedAt0", p0."DeletedBy" AS "DeletedBy0", p0."Description", p0."Name", p0."UpdatedAt" AS "UpdatedAt0", p0."UpdatedBy" AS "UpdatedBy0"
        FROM role_permissions AS r1
        INNER JOIN (
            SELECT p."Id", p."CreatedAt", p."CreatedBy", p."DeletedAt", p."DeletedBy", p."Description", p."Name", p."UpdatedAt", p."UpdatedBy"
            FROM permissions AS p
            WHERE p."DeletedAt" IS NULL
        ) AS p0 ON r1."PermissionId" = p0."Id"
        WHERE r1."DeletedAt" IS NULL
    ) AS s ON r0."Id" = s."RoleId"
    WHERE u0."DeletedAt" IS NULL
) AS s0 ON u1."Id" = s0."UserId"
ORDER BY u1."Id", s0."UserId", s0."RoleId", s0."Id0", s0."RoleId0", s0."PermissionId"
2026-02-09 16:08:31.608 +07:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 922ms 
2026-02-09 16:08:31.609 +07:00 [WRN] Slow HTTP POST /api/v1/auth/login responded 200 in 922ms 
2026-02-09 16:10:24.076 +07:00 [INF] Registered 4 endpoints in 346 milliseconds.
2026-02-09 16:10:25.047 +07:00 [INF] SQL (16ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 16:10:25.249 +07:00 [INF] SQL (6ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 16:10:25.265 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 16:10:25.269 +07:00 [INF] SQL (2ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 16:10:25.489 +07:00 [INF] SQL (2ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 16:10:25.618 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 16:10:26.721 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 16:10:26.817 +07:00 [INF] SQL (10ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 16:10:26.897 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-09 16:10:26.926 +07:00 [INF] SQL (6ms)
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."DeletedAt", u1."DeletedBy", u1."Email", u1."FirstName", u1."IsActive", u1."LastName", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s0."UserId", s0."RoleId", s0."AssignedAt", s0."CreatedAt", s0."CreatedBy", s0."DeletedAt", s0."DeletedBy", s0."Id", s0."UpdatedAt", s0."UpdatedBy", s0."Id0", s0."CreatedAt0", s0."CreatedBy0", s0."DeletedAt0", s0."DeletedBy0", s0."Description", s0."Name", s0."UpdatedAt0", s0."UpdatedBy0", s0."RoleId0", s0."PermissionId", s0."CreatedAt1", s0."CreatedBy1", s0."DeletedAt1", s0."DeletedBy1", s0."Id1", s0."UpdatedAt1", s0."UpdatedBy1", s0."Id00", s0."CreatedAt00", s0."CreatedBy00", s0."DeletedAt00", s0."DeletedBy00", s0."Description0", s0."Name0", s0."UpdatedAt00", s0."UpdatedBy00"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."DeletedBy", u."Email", u."FirstName", u."IsActive", u."LastName", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", u0."AssignedAt", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."DeletedBy", u0."Id", u0."UpdatedAt", u0."UpdatedBy", r0."Id" AS "Id0", r0."CreatedAt" AS "CreatedAt0", r0."CreatedBy" AS "CreatedBy0", r0."DeletedAt" AS "DeletedAt0", r0."DeletedBy" AS "DeletedBy0", r0."Description", r0."Name", r0."UpdatedAt" AS "UpdatedAt0", r0."UpdatedBy" AS "UpdatedBy0", s."RoleId" AS "RoleId0", s."PermissionId", s."CreatedAt" AS "CreatedAt1", s."CreatedBy" AS "CreatedBy1", s."DeletedAt" AS "DeletedAt1", s."DeletedBy" AS "DeletedBy1", s."Id" AS "Id1", s."UpdatedAt" AS "UpdatedAt1", s."UpdatedBy" AS "UpdatedBy1", s."Id0" AS "Id00", s."CreatedAt0" AS "CreatedAt00", s."CreatedBy0" AS "CreatedBy00", s."DeletedAt0" AS "DeletedAt00", s."DeletedBy0" AS "DeletedBy00", s."Description" AS "Description0", s."Name" AS "Name0", s."UpdatedAt0" AS "UpdatedAt00", s."UpdatedBy0" AS "UpdatedBy00"
    FROM user_roles AS u0
    INNER JOIN (
        SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
        FROM roles AS r
        WHERE r."DeletedAt" IS NULL
    ) AS r0 ON u0."RoleId" = r0."Id"
    LEFT JOIN (
        SELECT r1."RoleId", r1."PermissionId", r1."CreatedAt", r1."CreatedBy", r1."DeletedAt", r1."DeletedBy", r1."Id", r1."UpdatedAt", r1."UpdatedBy", p0."Id" AS "Id0", p0."CreatedAt" AS "CreatedAt0", p0."CreatedBy" AS "CreatedBy0", p0."DeletedAt" AS "DeletedAt0", p0."DeletedBy" AS "DeletedBy0", p0."Description", p0."Name", p0."UpdatedAt" AS "UpdatedAt0", p0."UpdatedBy" AS "UpdatedBy0"
        FROM role_permissions AS r1
        INNER JOIN (
            SELECT p."Id", p."CreatedAt", p."CreatedBy", p."DeletedAt", p."DeletedBy", p."Description", p."Name", p."UpdatedAt", p."UpdatedBy"
            FROM permissions AS p
            WHERE p."DeletedAt" IS NULL
        ) AS p0 ON r1."PermissionId" = p0."Id"
        WHERE r1."DeletedAt" IS NULL
    ) AS s ON r0."Id" = s."RoleId"
    WHERE u0."DeletedAt" IS NULL
) AS s0 ON u1."Id" = s0."UserId"
ORDER BY u1."Id", s0."UserId", s0."RoleId", s0."Id0", s0."RoleId0", s0."PermissionId"
2026-02-09 16:10:27.538 +07:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 818ms 
2026-02-09 16:10:27.539 +07:00 [WRN] Slow HTTP POST /api/v1/auth/login responded 200 in 818ms 
2026-02-09 16:10:42.986 +07:00 [INF] Registered 4 endpoints in 178 milliseconds.
2026-02-09 16:10:43.621 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 16:10:43.769 +07:00 [INF] SQL (4ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 16:10:43.782 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 16:10:43.784 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 16:10:43.918 +07:00 [INF] SQL (1ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 16:10:43.980 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 16:10:46.740 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 16:10:46.822 +07:00 [INF] SQL (5ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 16:10:46.890 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-09 16:10:46.918 +07:00 [INF] SQL (11ms)
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."DeletedAt", u1."DeletedBy", u1."Email", u1."FirstName", u1."IsActive", u1."LastName", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s0."UserId", s0."RoleId", s0."AssignedAt", s0."CreatedAt", s0."CreatedBy", s0."DeletedAt", s0."DeletedBy", s0."Id", s0."UpdatedAt", s0."UpdatedBy", s0."Id0", s0."CreatedAt0", s0."CreatedBy0", s0."DeletedAt0", s0."DeletedBy0", s0."Description", s0."Name", s0."UpdatedAt0", s0."UpdatedBy0", s0."RoleId0", s0."PermissionId", s0."CreatedAt1", s0."CreatedBy1", s0."DeletedAt1", s0."DeletedBy1", s0."Id1", s0."UpdatedAt1", s0."UpdatedBy1", s0."Id00", s0."CreatedAt00", s0."CreatedBy00", s0."DeletedAt00", s0."DeletedBy00", s0."Description0", s0."Name0", s0."UpdatedAt00", s0."UpdatedBy00"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."DeletedBy", u."Email", u."FirstName", u."IsActive", u."LastName", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", u0."AssignedAt", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."DeletedBy", u0."Id", u0."UpdatedAt", u0."UpdatedBy", r0."Id" AS "Id0", r0."CreatedAt" AS "CreatedAt0", r0."CreatedBy" AS "CreatedBy0", r0."DeletedAt" AS "DeletedAt0", r0."DeletedBy" AS "DeletedBy0", r0."Description", r0."Name", r0."UpdatedAt" AS "UpdatedAt0", r0."UpdatedBy" AS "UpdatedBy0", s."RoleId" AS "RoleId0", s."PermissionId", s."CreatedAt" AS "CreatedAt1", s."CreatedBy" AS "CreatedBy1", s."DeletedAt" AS "DeletedAt1", s."DeletedBy" AS "DeletedBy1", s."Id" AS "Id1", s."UpdatedAt" AS "UpdatedAt1", s."UpdatedBy" AS "UpdatedBy1", s."Id0" AS "Id00", s."CreatedAt0" AS "CreatedAt00", s."CreatedBy0" AS "CreatedBy00", s."DeletedAt0" AS "DeletedAt00", s."DeletedBy0" AS "DeletedBy00", s."Description" AS "Description0", s."Name" AS "Name0", s."UpdatedAt0" AS "UpdatedAt00", s."UpdatedBy0" AS "UpdatedBy00"
    FROM user_roles AS u0
    INNER JOIN (
        SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
        FROM roles AS r
        WHERE r."DeletedAt" IS NULL
    ) AS r0 ON u0."RoleId" = r0."Id"
    LEFT JOIN (
        SELECT r1."RoleId", r1."PermissionId", r1."CreatedAt", r1."CreatedBy", r1."DeletedAt", r1."DeletedBy", r1."Id", r1."UpdatedAt", r1."UpdatedBy", p0."Id" AS "Id0", p0."CreatedAt" AS "CreatedAt0", p0."CreatedBy" AS "CreatedBy0", p0."DeletedAt" AS "DeletedAt0", p0."DeletedBy" AS "DeletedBy0", p0."Description", p0."Name", p0."UpdatedAt" AS "UpdatedAt0", p0."UpdatedBy" AS "UpdatedBy0"
        FROM role_permissions AS r1
        INNER JOIN (
            SELECT p."Id", p."CreatedAt", p."CreatedBy", p."DeletedAt", p."DeletedBy", p."Description", p."Name", p."UpdatedAt", p."UpdatedBy"
            FROM permissions AS p
            WHERE p."DeletedAt" IS NULL
        ) AS p0 ON r1."PermissionId" = p0."Id"
        WHERE r1."DeletedAt" IS NULL
    ) AS s ON r0."Id" = s."RoleId"
    WHERE u0."DeletedAt" IS NULL
) AS s0 ON u1."Id" = s0."UserId"
ORDER BY u1."Id", s0."UserId", s0."RoleId", s0."Id0", s0."RoleId0", s0."PermissionId"
2026-02-09 16:10:47.535 +07:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 797ms 
2026-02-09 16:10:47.535 +07:00 [WRN] Slow HTTP POST /api/v1/auth/login responded 200 in 797ms 
2026-02-09 16:14:45.709 +07:00 [INF] Registered 4 endpoints in 234 milliseconds.
2026-02-09 16:14:46.304 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 16:14:46.444 +07:00 [INF] SQL (4ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 16:14:46.454 +07:00 [INF] SQL (2ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 16:14:46.455 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 16:14:46.576 +07:00 [INF] SQL (2ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 16:14:46.640 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 16:14:52.507 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 16:14:52.803 +07:00 [INF] SQL (6ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 16:14:52.879 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-09 16:14:52.903 +07:00 [INF] SQL (9ms)
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."DeletedAt", u1."DeletedBy", u1."Email", u1."FirstName", u1."IsActive", u1."LastName", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s0."UserId", s0."RoleId", s0."AssignedAt", s0."CreatedAt", s0."CreatedBy", s0."DeletedAt", s0."DeletedBy", s0."Id", s0."UpdatedAt", s0."UpdatedBy", s0."Id0", s0."CreatedAt0", s0."CreatedBy0", s0."DeletedAt0", s0."DeletedBy0", s0."Description", s0."Name", s0."UpdatedAt0", s0."UpdatedBy0", s0."RoleId0", s0."PermissionId", s0."CreatedAt1", s0."CreatedBy1", s0."DeletedAt1", s0."DeletedBy1", s0."Id1", s0."UpdatedAt1", s0."UpdatedBy1", s0."Id00", s0."CreatedAt00", s0."CreatedBy00", s0."DeletedAt00", s0."DeletedBy00", s0."Description0", s0."Name0", s0."UpdatedAt00", s0."UpdatedBy00"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."DeletedBy", u."Email", u."FirstName", u."IsActive", u."LastName", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", u0."AssignedAt", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."DeletedBy", u0."Id", u0."UpdatedAt", u0."UpdatedBy", r0."Id" AS "Id0", r0."CreatedAt" AS "CreatedAt0", r0."CreatedBy" AS "CreatedBy0", r0."DeletedAt" AS "DeletedAt0", r0."DeletedBy" AS "DeletedBy0", r0."Description", r0."Name", r0."UpdatedAt" AS "UpdatedAt0", r0."UpdatedBy" AS "UpdatedBy0", s."RoleId" AS "RoleId0", s."PermissionId", s."CreatedAt" AS "CreatedAt1", s."CreatedBy" AS "CreatedBy1", s."DeletedAt" AS "DeletedAt1", s."DeletedBy" AS "DeletedBy1", s."Id" AS "Id1", s."UpdatedAt" AS "UpdatedAt1", s."UpdatedBy" AS "UpdatedBy1", s."Id0" AS "Id00", s."CreatedAt0" AS "CreatedAt00", s."CreatedBy0" AS "CreatedBy00", s."DeletedAt0" AS "DeletedAt00", s."DeletedBy0" AS "DeletedBy00", s."Description" AS "Description0", s."Name" AS "Name0", s."UpdatedAt0" AS "UpdatedAt00", s."UpdatedBy0" AS "UpdatedBy00"
    FROM user_roles AS u0
    INNER JOIN (
        SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
        FROM roles AS r
        WHERE r."DeletedAt" IS NULL
    ) AS r0 ON u0."RoleId" = r0."Id"
    LEFT JOIN (
        SELECT r1."RoleId", r1."PermissionId", r1."CreatedAt", r1."CreatedBy", r1."DeletedAt", r1."DeletedBy", r1."Id", r1."UpdatedAt", r1."UpdatedBy", p0."Id" AS "Id0", p0."CreatedAt" AS "CreatedAt0", p0."CreatedBy" AS "CreatedBy0", p0."DeletedAt" AS "DeletedAt0", p0."DeletedBy" AS "DeletedBy0", p0."Description", p0."Name", p0."UpdatedAt" AS "UpdatedAt0", p0."UpdatedBy" AS "UpdatedBy0"
        FROM role_permissions AS r1
        INNER JOIN (
            SELECT p."Id", p."CreatedAt", p."CreatedBy", p."DeletedAt", p."DeletedBy", p."Description", p."Name", p."UpdatedAt", p."UpdatedBy"
            FROM permissions AS p
            WHERE p."DeletedAt" IS NULL
        ) AS p0 ON r1."PermissionId" = p0."Id"
        WHERE r1."DeletedAt" IS NULL
    ) AS s ON r0."Id" = s."RoleId"
    WHERE u0."DeletedAt" IS NULL
) AS s0 ON u1."Id" = s0."UserId"
ORDER BY u1."Id", s0."UserId", s0."RoleId", s0."Id0", s0."RoleId0", s0."PermissionId"
2026-02-09 16:14:53.496 +07:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 992ms 
2026-02-09 16:14:53.497 +07:00 [WRN] Slow HTTP POST /api/v1/auth/login responded 200 in 992ms 
2026-02-09 16:15:47.721 +07:00 [INF] Registered 4 endpoints in 251 milliseconds.
2026-02-09 16:15:48.389 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 16:15:48.520 +07:00 [INF] SQL (3ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 16:15:48.527 +07:00 [INF] SQL (0ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 16:15:48.528 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 16:15:48.640 +07:00 [INF] SQL (2ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 16:15:48.705 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 16:15:49.974 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 16:15:50.050 +07:00 [INF] SQL (5ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 16:15:50.117 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-09 16:15:50.138 +07:00 [INF] SQL (5ms)
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."DeletedAt", u1."DeletedBy", u1."Email", u1."FirstName", u1."IsActive", u1."LastName", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s0."UserId", s0."RoleId", s0."AssignedAt", s0."CreatedAt", s0."CreatedBy", s0."DeletedAt", s0."DeletedBy", s0."Id", s0."UpdatedAt", s0."UpdatedBy", s0."Id0", s0."CreatedAt0", s0."CreatedBy0", s0."DeletedAt0", s0."DeletedBy0", s0."Description", s0."Name", s0."UpdatedAt0", s0."UpdatedBy0", s0."RoleId0", s0."PermissionId", s0."CreatedAt1", s0."CreatedBy1", s0."DeletedAt1", s0."DeletedBy1", s0."Id1", s0."UpdatedAt1", s0."UpdatedBy1", s0."Id00", s0."CreatedAt00", s0."CreatedBy00", s0."DeletedAt00", s0."DeletedBy00", s0."Description0", s0."Name0", s0."UpdatedAt00", s0."UpdatedBy00"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."DeletedBy", u."Email", u."FirstName", u."IsActive", u."LastName", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", u0."AssignedAt", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."DeletedBy", u0."Id", u0."UpdatedAt", u0."UpdatedBy", r0."Id" AS "Id0", r0."CreatedAt" AS "CreatedAt0", r0."CreatedBy" AS "CreatedBy0", r0."DeletedAt" AS "DeletedAt0", r0."DeletedBy" AS "DeletedBy0", r0."Description", r0."Name", r0."UpdatedAt" AS "UpdatedAt0", r0."UpdatedBy" AS "UpdatedBy0", s."RoleId" AS "RoleId0", s."PermissionId", s."CreatedAt" AS "CreatedAt1", s."CreatedBy" AS "CreatedBy1", s."DeletedAt" AS "DeletedAt1", s."DeletedBy" AS "DeletedBy1", s."Id" AS "Id1", s."UpdatedAt" AS "UpdatedAt1", s."UpdatedBy" AS "UpdatedBy1", s."Id0" AS "Id00", s."CreatedAt0" AS "CreatedAt00", s."CreatedBy0" AS "CreatedBy00", s."DeletedAt0" AS "DeletedAt00", s."DeletedBy0" AS "DeletedBy00", s."Description" AS "Description0", s."Name" AS "Name0", s."UpdatedAt0" AS "UpdatedAt00", s."UpdatedBy0" AS "UpdatedBy00"
    FROM user_roles AS u0
    INNER JOIN (
        SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
        FROM roles AS r
        WHERE r."DeletedAt" IS NULL
    ) AS r0 ON u0."RoleId" = r0."Id"
    LEFT JOIN (
        SELECT r1."RoleId", r1."PermissionId", r1."CreatedAt", r1."CreatedBy", r1."DeletedAt", r1."DeletedBy", r1."Id", r1."UpdatedAt", r1."UpdatedBy", p0."Id" AS "Id0", p0."CreatedAt" AS "CreatedAt0", p0."CreatedBy" AS "CreatedBy0", p0."DeletedAt" AS "DeletedAt0", p0."DeletedBy" AS "DeletedBy0", p0."Description", p0."Name", p0."UpdatedAt" AS "UpdatedAt0", p0."UpdatedBy" AS "UpdatedBy0"
        FROM role_permissions AS r1
        INNER JOIN (
            SELECT p."Id", p."CreatedAt", p."CreatedBy", p."DeletedAt", p."DeletedBy", p."Description", p."Name", p."UpdatedAt", p."UpdatedBy"
            FROM permissions AS p
            WHERE p."DeletedAt" IS NULL
        ) AS p0 ON r1."PermissionId" = p0."Id"
        WHERE r1."DeletedAt" IS NULL
    ) AS s ON r0."Id" = s."RoleId"
    WHERE u0."DeletedAt" IS NULL
) AS s0 ON u1."Id" = s0."UserId"
ORDER BY u1."Id", s0."UserId", s0."RoleId", s0."Id0", s0."RoleId0", s0."PermissionId"
2026-02-09 16:15:50.799 +07:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 825ms 
2026-02-09 16:15:50.799 +07:00 [WRN] Slow HTTP POST /api/v1/auth/login responded 200 in 825ms 
2026-02-09 16:18:26.632 +07:00 [INF] Registered 4 endpoints in 298 milliseconds.
2026-02-09 16:18:27.467 +07:00 [INF] SQL (15ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 16:18:27.622 +07:00 [INF] SQL (11ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 16:18:27.638 +07:00 [INF] SQL (7ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 16:18:27.639 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 16:18:27.787 +07:00 [INF] SQL (7ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 16:18:27.946 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 16:18:33.609 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 16:18:33.703 +07:00 [INF] SQL (5ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 16:18:33.766 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-09 16:18:33.790 +07:00 [INF] SQL (8ms)
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."DeletedAt", u1."DeletedBy", u1."Email", u1."FirstName", u1."IsActive", u1."LastName", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s0."UserId", s0."RoleId", s0."AssignedAt", s0."CreatedAt", s0."CreatedBy", s0."DeletedAt", s0."DeletedBy", s0."Id", s0."UpdatedAt", s0."UpdatedBy", s0."Id0", s0."CreatedAt0", s0."CreatedBy0", s0."DeletedAt0", s0."DeletedBy0", s0."Description", s0."Name", s0."UpdatedAt0", s0."UpdatedBy0", s0."RoleId0", s0."PermissionId", s0."CreatedAt1", s0."CreatedBy1", s0."DeletedAt1", s0."DeletedBy1", s0."Id1", s0."UpdatedAt1", s0."UpdatedBy1", s0."Id00", s0."CreatedAt00", s0."CreatedBy00", s0."DeletedAt00", s0."DeletedBy00", s0."Description0", s0."Name0", s0."UpdatedAt00", s0."UpdatedBy00"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."DeletedBy", u."Email", u."FirstName", u."IsActive", u."LastName", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", u0."AssignedAt", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."DeletedBy", u0."Id", u0."UpdatedAt", u0."UpdatedBy", r0."Id" AS "Id0", r0."CreatedAt" AS "CreatedAt0", r0."CreatedBy" AS "CreatedBy0", r0."DeletedAt" AS "DeletedAt0", r0."DeletedBy" AS "DeletedBy0", r0."Description", r0."Name", r0."UpdatedAt" AS "UpdatedAt0", r0."UpdatedBy" AS "UpdatedBy0", s."RoleId" AS "RoleId0", s."PermissionId", s."CreatedAt" AS "CreatedAt1", s."CreatedBy" AS "CreatedBy1", s."DeletedAt" AS "DeletedAt1", s."DeletedBy" AS "DeletedBy1", s."Id" AS "Id1", s."UpdatedAt" AS "UpdatedAt1", s."UpdatedBy" AS "UpdatedBy1", s."Id0" AS "Id00", s."CreatedAt0" AS "CreatedAt00", s."CreatedBy0" AS "CreatedBy00", s."DeletedAt0" AS "DeletedAt00", s."DeletedBy0" AS "DeletedBy00", s."Description" AS "Description0", s."Name" AS "Name0", s."UpdatedAt0" AS "UpdatedAt00", s."UpdatedBy0" AS "UpdatedBy00"
    FROM user_roles AS u0
    INNER JOIN (
        SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
        FROM roles AS r
        WHERE r."DeletedAt" IS NULL
    ) AS r0 ON u0."RoleId" = r0."Id"
    LEFT JOIN (
        SELECT r1."RoleId", r1."PermissionId", r1."CreatedAt", r1."CreatedBy", r1."DeletedAt", r1."DeletedBy", r1."Id", r1."UpdatedAt", r1."UpdatedBy", p0."Id" AS "Id0", p0."CreatedAt" AS "CreatedAt0", p0."CreatedBy" AS "CreatedBy0", p0."DeletedAt" AS "DeletedAt0", p0."DeletedBy" AS "DeletedBy0", p0."Description", p0."Name", p0."UpdatedAt" AS "UpdatedAt0", p0."UpdatedBy" AS "UpdatedBy0"
        FROM role_permissions AS r1
        INNER JOIN (
            SELECT p."Id", p."CreatedAt", p."CreatedBy", p."DeletedAt", p."DeletedBy", p."Description", p."Name", p."UpdatedAt", p."UpdatedBy"
            FROM permissions AS p
            WHERE p."DeletedAt" IS NULL
        ) AS p0 ON r1."PermissionId" = p0."Id"
        WHERE r1."DeletedAt" IS NULL
    ) AS s ON r0."Id" = s."RoleId"
    WHERE u0."DeletedAt" IS NULL
) AS s0 ON u1."Id" = s0."UserId"
ORDER BY u1."Id", s0."UserId", s0."RoleId", s0."Id0", s0."RoleId0", s0."PermissionId"
2026-02-09 16:18:34.395 +07:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 786ms 
2026-02-09 16:18:34.395 +07:00 [WRN] Slow HTTP POST /api/v1/auth/login responded 200 in 786ms 
2026-02-09 16:19:28.133 +07:00 [INF] Registered 4 endpoints in 240 milliseconds.
2026-02-09 16:19:28.711 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 16:19:28.863 +07:00 [INF] SQL (4ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 16:19:28.871 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 16:19:28.872 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 16:19:28.988 +07:00 [INF] SQL (4ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 16:19:29.046 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 16:19:35.875 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 16:19:36.214 +07:00 [INF] SQL (28ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 16:19:36.282 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-09 16:19:36.313 +07:00 [INF] SQL (15ms)
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."DeletedAt", u1."DeletedBy", u1."Email", u1."FirstName", u1."IsActive", u1."LastName", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s0."UserId", s0."RoleId", s0."AssignedAt", s0."CreatedAt", s0."CreatedBy", s0."DeletedAt", s0."DeletedBy", s0."Id", s0."UpdatedAt", s0."UpdatedBy", s0."Id0", s0."CreatedAt0", s0."CreatedBy0", s0."DeletedAt0", s0."DeletedBy0", s0."Description", s0."Name", s0."UpdatedAt0", s0."UpdatedBy0", s0."RoleId0", s0."PermissionId", s0."CreatedAt1", s0."CreatedBy1", s0."DeletedAt1", s0."DeletedBy1", s0."Id1", s0."UpdatedAt1", s0."UpdatedBy1", s0."Id00", s0."CreatedAt00", s0."CreatedBy00", s0."DeletedAt00", s0."DeletedBy00", s0."Description0", s0."Name0", s0."UpdatedAt00", s0."UpdatedBy00"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."DeletedBy", u."Email", u."FirstName", u."IsActive", u."LastName", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", u0."AssignedAt", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."DeletedBy", u0."Id", u0."UpdatedAt", u0."UpdatedBy", r0."Id" AS "Id0", r0."CreatedAt" AS "CreatedAt0", r0."CreatedBy" AS "CreatedBy0", r0."DeletedAt" AS "DeletedAt0", r0."DeletedBy" AS "DeletedBy0", r0."Description", r0."Name", r0."UpdatedAt" AS "UpdatedAt0", r0."UpdatedBy" AS "UpdatedBy0", s."RoleId" AS "RoleId0", s."PermissionId", s."CreatedAt" AS "CreatedAt1", s."CreatedBy" AS "CreatedBy1", s."DeletedAt" AS "DeletedAt1", s."DeletedBy" AS "DeletedBy1", s."Id" AS "Id1", s."UpdatedAt" AS "UpdatedAt1", s."UpdatedBy" AS "UpdatedBy1", s."Id0" AS "Id00", s."CreatedAt0" AS "CreatedAt00", s."CreatedBy0" AS "CreatedBy00", s."DeletedAt0" AS "DeletedAt00", s."DeletedBy0" AS "DeletedBy00", s."Description" AS "Description0", s."Name" AS "Name0", s."UpdatedAt0" AS "UpdatedAt00", s."UpdatedBy0" AS "UpdatedBy00"
    FROM user_roles AS u0
    INNER JOIN (
        SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
        FROM roles AS r
        WHERE r."DeletedAt" IS NULL
    ) AS r0 ON u0."RoleId" = r0."Id"
    LEFT JOIN (
        SELECT r1."RoleId", r1."PermissionId", r1."CreatedAt", r1."CreatedBy", r1."DeletedAt", r1."DeletedBy", r1."Id", r1."UpdatedAt", r1."UpdatedBy", p0."Id" AS "Id0", p0."CreatedAt" AS "CreatedAt0", p0."CreatedBy" AS "CreatedBy0", p0."DeletedAt" AS "DeletedAt0", p0."DeletedBy" AS "DeletedBy0", p0."Description", p0."Name", p0."UpdatedAt" AS "UpdatedAt0", p0."UpdatedBy" AS "UpdatedBy0"
        FROM role_permissions AS r1
        INNER JOIN (
            SELECT p."Id", p."CreatedAt", p."CreatedBy", p."DeletedAt", p."DeletedBy", p."Description", p."Name", p."UpdatedAt", p."UpdatedBy"
            FROM permissions AS p
            WHERE p."DeletedAt" IS NULL
        ) AS p0 ON r1."PermissionId" = p0."Id"
        WHERE r1."DeletedAt" IS NULL
    ) AS s ON r0."Id" = s."RoleId"
    WHERE u0."DeletedAt" IS NULL
) AS s0 ON u1."Id" = s0."UserId"
ORDER BY u1."Id", s0."UserId", s0."RoleId", s0."Id0", s0."RoleId0", s0."PermissionId"
2026-02-09 16:19:36.920 +07:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 1046ms 
2026-02-09 16:19:36.921 +07:00 [WRN] Slow HTTP POST /api/v1/auth/login responded 200 in 1046ms 
2026-02-09 16:22:43.925 +07:00 [INF] SQL (19ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 16:22:43.946 +07:00 [INF] SQL (16ms)
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."DeletedAt", u1."DeletedBy", u1."Email", u1."FirstName", u1."IsActive", u1."LastName", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s0."UserId", s0."RoleId", s0."AssignedAt", s0."CreatedAt", s0."CreatedBy", s0."DeletedAt", s0."DeletedBy", s0."Id", s0."UpdatedAt", s0."UpdatedBy", s0."Id0", s0."CreatedAt0", s0."CreatedBy0", s0."DeletedAt0", s0."DeletedBy0", s0."Description", s0."Name", s0."UpdatedAt0", s0."UpdatedBy0", s0."RoleId0", s0."PermissionId", s0."CreatedAt1", s0."CreatedBy1", s0."DeletedAt1", s0."DeletedBy1", s0."Id1", s0."UpdatedAt1", s0."UpdatedBy1", s0."Id00", s0."CreatedAt00", s0."CreatedBy00", s0."DeletedAt00", s0."DeletedBy00", s0."Description0", s0."Name0", s0."UpdatedAt00", s0."UpdatedBy00"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."DeletedBy", u."Email", u."FirstName", u."IsActive", u."LastName", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", u0."AssignedAt", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."DeletedBy", u0."Id", u0."UpdatedAt", u0."UpdatedBy", r0."Id" AS "Id0", r0."CreatedAt" AS "CreatedAt0", r0."CreatedBy" AS "CreatedBy0", r0."DeletedAt" AS "DeletedAt0", r0."DeletedBy" AS "DeletedBy0", r0."Description", r0."Name", r0."UpdatedAt" AS "UpdatedAt0", r0."UpdatedBy" AS "UpdatedBy0", s."RoleId" AS "RoleId0", s."PermissionId", s."CreatedAt" AS "CreatedAt1", s."CreatedBy" AS "CreatedBy1", s."DeletedAt" AS "DeletedAt1", s."DeletedBy" AS "DeletedBy1", s."Id" AS "Id1", s."UpdatedAt" AS "UpdatedAt1", s."UpdatedBy" AS "UpdatedBy1", s."Id0" AS "Id00", s."CreatedAt0" AS "CreatedAt00", s."CreatedBy0" AS "CreatedBy00", s."DeletedAt0" AS "DeletedAt00", s."DeletedBy0" AS "DeletedBy00", s."Description" AS "Description0", s."Name" AS "Name0", s."UpdatedAt0" AS "UpdatedAt00", s."UpdatedBy0" AS "UpdatedBy00"
    FROM user_roles AS u0
    INNER JOIN (
        SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
        FROM roles AS r
        WHERE r."DeletedAt" IS NULL
    ) AS r0 ON u0."RoleId" = r0."Id"
    LEFT JOIN (
        SELECT r1."RoleId", r1."PermissionId", r1."CreatedAt", r1."CreatedBy", r1."DeletedAt", r1."DeletedBy", r1."Id", r1."UpdatedAt", r1."UpdatedBy", p0."Id" AS "Id0", p0."CreatedAt" AS "CreatedAt0", p0."CreatedBy" AS "CreatedBy0", p0."DeletedAt" AS "DeletedAt0", p0."DeletedBy" AS "DeletedBy0", p0."Description", p0."Name", p0."UpdatedAt" AS "UpdatedAt0", p0."UpdatedBy" AS "UpdatedBy0"
        FROM role_permissions AS r1
        INNER JOIN (
            SELECT p."Id", p."CreatedAt", p."CreatedBy", p."DeletedAt", p."DeletedBy", p."Description", p."Name", p."UpdatedAt", p."UpdatedBy"
            FROM permissions AS p
            WHERE p."DeletedAt" IS NULL
        ) AS p0 ON r1."PermissionId" = p0."Id"
        WHERE r1."DeletedAt" IS NULL
    ) AS s ON r0."Id" = s."RoleId"
    WHERE u0."DeletedAt" IS NULL
) AS s0 ON u1."Id" = s0."UserId"
ORDER BY u1."Id", s0."UserId", s0."RoleId", s0."Id0", s0."RoleId0", s0."PermissionId"
2026-02-09 16:22:44.403 +07:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 722ms 
2026-02-09 16:22:44.403 +07:00 [WRN] Slow HTTP POST /api/v1/auth/login responded 200 in 722ms 
2026-02-09 17:40:32.093 +07:00 [INF] Registered 4 endpoints in 691 milliseconds.
2026-02-09 17:40:33.755 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 17:40:33.899 +07:00 [INF] SQL (6ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 17:40:33.920 +07:00 [INF] SQL (12ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 17:40:33.922 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 17:40:34.072 +07:00 [INF] SQL (4ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 17:40:34.183 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 17:40:45.335 +07:00 [INF] Registered 4 endpoints in 240 milliseconds.
2026-02-09 17:40:45.839 +07:00 [INF] SQL (11ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 17:40:45.978 +07:00 [INF] SQL (5ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 17:40:45.985 +07:00 [INF] SQL (0ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 17:40:45.986 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 17:40:46.107 +07:00 [INF] SQL (1ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 17:40:46.164 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 17:41:32.920 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 17:41:33.253 +07:00 [INF] SQL (31ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 17:41:33.318 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-09 17:41:33.348 +07:00 [INF] SQL (15ms)
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."DeletedAt", u1."DeletedBy", u1."Email", u1."FirstName", u1."IsActive", u1."LastName", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s0."UserId", s0."RoleId", s0."AssignedAt", s0."CreatedAt", s0."CreatedBy", s0."DeletedAt", s0."DeletedBy", s0."Id", s0."UpdatedAt", s0."UpdatedBy", s0."Id0", s0."CreatedAt0", s0."CreatedBy0", s0."DeletedAt0", s0."DeletedBy0", s0."Description", s0."Name", s0."UpdatedAt0", s0."UpdatedBy0", s0."RoleId0", s0."PermissionId", s0."CreatedAt1", s0."CreatedBy1", s0."DeletedAt1", s0."DeletedBy1", s0."Id1", s0."UpdatedAt1", s0."UpdatedBy1", s0."Id00", s0."CreatedAt00", s0."CreatedBy00", s0."DeletedAt00", s0."DeletedBy00", s0."Description0", s0."Name0", s0."UpdatedAt00", s0."UpdatedBy00"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."DeletedBy", u."Email", u."FirstName", u."IsActive", u."LastName", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", u0."AssignedAt", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."DeletedBy", u0."Id", u0."UpdatedAt", u0."UpdatedBy", r0."Id" AS "Id0", r0."CreatedAt" AS "CreatedAt0", r0."CreatedBy" AS "CreatedBy0", r0."DeletedAt" AS "DeletedAt0", r0."DeletedBy" AS "DeletedBy0", r0."Description", r0."Name", r0."UpdatedAt" AS "UpdatedAt0", r0."UpdatedBy" AS "UpdatedBy0", s."RoleId" AS "RoleId0", s."PermissionId", s."CreatedAt" AS "CreatedAt1", s."CreatedBy" AS "CreatedBy1", s."DeletedAt" AS "DeletedAt1", s."DeletedBy" AS "DeletedBy1", s."Id" AS "Id1", s."UpdatedAt" AS "UpdatedAt1", s."UpdatedBy" AS "UpdatedBy1", s."Id0" AS "Id00", s."CreatedAt0" AS "CreatedAt00", s."CreatedBy0" AS "CreatedBy00", s."DeletedAt0" AS "DeletedAt00", s."DeletedBy0" AS "DeletedBy00", s."Description" AS "Description0", s."Name" AS "Name0", s."UpdatedAt0" AS "UpdatedAt00", s."UpdatedBy0" AS "UpdatedBy00"
    FROM user_roles AS u0
    INNER JOIN (
        SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
        FROM roles AS r
        WHERE r."DeletedAt" IS NULL
    ) AS r0 ON u0."RoleId" = r0."Id"
    LEFT JOIN (
        SELECT r1."RoleId", r1."PermissionId", r1."CreatedAt", r1."CreatedBy", r1."DeletedAt", r1."DeletedBy", r1."Id", r1."UpdatedAt", r1."UpdatedBy", p0."Id" AS "Id0", p0."CreatedAt" AS "CreatedAt0", p0."CreatedBy" AS "CreatedBy0", p0."DeletedAt" AS "DeletedAt0", p0."DeletedBy" AS "DeletedBy0", p0."Description", p0."Name", p0."UpdatedAt" AS "UpdatedAt0", p0."UpdatedBy" AS "UpdatedBy0"
        FROM role_permissions AS r1
        INNER JOIN (
            SELECT p."Id", p."CreatedAt", p."CreatedBy", p."DeletedAt", p."DeletedBy", p."Description", p."Name", p."UpdatedAt", p."UpdatedBy"
            FROM permissions AS p
            WHERE p."DeletedAt" IS NULL
        ) AS p0 ON r1."PermissionId" = p0."Id"
        WHERE r1."DeletedAt" IS NULL
    ) AS s ON r0."Id" = s."RoleId"
    WHERE u0."DeletedAt" IS NULL
) AS s0 ON u1."Id" = s0."UserId"
ORDER BY u1."Id", s0."UserId", s0."RoleId", s0."Id0", s0."RoleId0", s0."PermissionId"
2026-02-09 17:41:33.966 +07:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 1053ms 
2026-02-09 17:41:33.966 +07:00 [WRN] Slow HTTP POST /api/v1/auth/login responded 200 in 1053ms 
2026-02-09 17:45:06.453 +07:00 [INF] Registered 4 endpoints in 255 milliseconds.
2026-02-09 17:45:07.648 +07:00 [INF] SQL (11ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 17:45:07.798 +07:00 [INF] SQL (3ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 17:45:07.805 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 17:45:07.807 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 17:45:07.929 +07:00 [INF] SQL (3ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 17:45:08.013 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 17:45:10.500 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 17:45:10.623 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 131ms 
2026-02-09 17:45:11.857 +07:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 267ms 
2026-02-09 17:45:13.005 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 7ms 
2026-02-09 17:45:22.551 +07:00 [INF] SQL (38ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 17:45:22.657 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-09 17:45:22.681 +07:00 [INF] SQL (9ms)
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."DeletedAt", u1."DeletedBy", u1."Email", u1."FirstName", u1."IsActive", u1."LastName", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s0."UserId", s0."RoleId", s0."AssignedAt", s0."CreatedAt", s0."CreatedBy", s0."DeletedAt", s0."DeletedBy", s0."Id", s0."UpdatedAt", s0."UpdatedBy", s0."Id0", s0."CreatedAt0", s0."CreatedBy0", s0."DeletedAt0", s0."DeletedBy0", s0."Description", s0."Name", s0."UpdatedAt0", s0."UpdatedBy0", s0."RoleId0", s0."PermissionId", s0."CreatedAt1", s0."CreatedBy1", s0."DeletedAt1", s0."DeletedBy1", s0."Id1", s0."UpdatedAt1", s0."UpdatedBy1", s0."Id00", s0."CreatedAt00", s0."CreatedBy00", s0."DeletedAt00", s0."DeletedBy00", s0."Description0", s0."Name0", s0."UpdatedAt00", s0."UpdatedBy00"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."DeletedBy", u."Email", u."FirstName", u."IsActive", u."LastName", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", u0."AssignedAt", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."DeletedBy", u0."Id", u0."UpdatedAt", u0."UpdatedBy", r0."Id" AS "Id0", r0."CreatedAt" AS "CreatedAt0", r0."CreatedBy" AS "CreatedBy0", r0."DeletedAt" AS "DeletedAt0", r0."DeletedBy" AS "DeletedBy0", r0."Description", r0."Name", r0."UpdatedAt" AS "UpdatedAt0", r0."UpdatedBy" AS "UpdatedBy0", s."RoleId" AS "RoleId0", s."PermissionId", s."CreatedAt" AS "CreatedAt1", s."CreatedBy" AS "CreatedBy1", s."DeletedAt" AS "DeletedAt1", s."DeletedBy" AS "DeletedBy1", s."Id" AS "Id1", s."UpdatedAt" AS "UpdatedAt1", s."UpdatedBy" AS "UpdatedBy1", s."Id0" AS "Id00", s."CreatedAt0" AS "CreatedAt00", s."CreatedBy0" AS "CreatedBy00", s."DeletedAt0" AS "DeletedAt00", s."DeletedBy0" AS "DeletedBy00", s."Description" AS "Description0", s."Name" AS "Name0", s."UpdatedAt0" AS "UpdatedAt00", s."UpdatedBy0" AS "UpdatedBy00"
    FROM user_roles AS u0
    INNER JOIN (
        SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
        FROM roles AS r
        WHERE r."DeletedAt" IS NULL
    ) AS r0 ON u0."RoleId" = r0."Id"
    LEFT JOIN (
        SELECT r1."RoleId", r1."PermissionId", r1."CreatedAt", r1."CreatedBy", r1."DeletedAt", r1."DeletedBy", r1."Id", r1."UpdatedAt", r1."UpdatedBy", p0."Id" AS "Id0", p0."CreatedAt" AS "CreatedAt0", p0."CreatedBy" AS "CreatedBy0", p0."DeletedAt" AS "DeletedAt0", p0."DeletedBy" AS "DeletedBy0", p0."Description", p0."Name", p0."UpdatedAt" AS "UpdatedAt0", p0."UpdatedBy" AS "UpdatedBy0"
        FROM role_permissions AS r1
        INNER JOIN (
            SELECT p."Id", p."CreatedAt", p."CreatedBy", p."DeletedAt", p."DeletedBy", p."Description", p."Name", p."UpdatedAt", p."UpdatedBy"
            FROM permissions AS p
            WHERE p."DeletedAt" IS NULL
        ) AS p0 ON r1."PermissionId" = p0."Id"
        WHERE r1."DeletedAt" IS NULL
    ) AS s ON r0."Id" = s."RoleId"
    WHERE u0."DeletedAt" IS NULL
) AS s0 ON u1."Id" = s0."UserId"
ORDER BY u1."Id", s0."UserId", s0."RoleId", s0."Id0", s0."RoleId0", s0."PermissionId"
2026-02-09 17:45:23.257 +07:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 906ms 
2026-02-09 17:45:23.257 +07:00 [WRN] Slow HTTP POST /api/v1/auth/login responded 200 in 906ms 
2026-02-09 17:46:32.719 +07:00 [INF] Registered 4 endpoints in 224 milliseconds.
2026-02-09 17:46:33.229 +07:00 [INF] SQL (11ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 17:46:33.368 +07:00 [INF] SQL (3ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 17:46:33.375 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 17:46:33.376 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 17:46:33.496 +07:00 [INF] SQL (2ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 17:46:33.559 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 17:46:36.759 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 17:46:36.817 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 60ms 
2026-02-09 17:46:37.063 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 2ms 
2026-02-09 17:46:37.493 +07:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 260ms 
2026-02-09 17:46:52.104 +07:00 [INF] SQL (23ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 17:46:52.191 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-09 17:46:52.214 +07:00 [INF] SQL (8ms)
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."DeletedAt", u1."DeletedBy", u1."Email", u1."FirstName", u1."IsActive", u1."LastName", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s0."UserId", s0."RoleId", s0."AssignedAt", s0."CreatedAt", s0."CreatedBy", s0."DeletedAt", s0."DeletedBy", s0."Id", s0."UpdatedAt", s0."UpdatedBy", s0."Id0", s0."CreatedAt0", s0."CreatedBy0", s0."DeletedAt0", s0."DeletedBy0", s0."Description", s0."Name", s0."UpdatedAt0", s0."UpdatedBy0", s0."RoleId0", s0."PermissionId", s0."CreatedAt1", s0."CreatedBy1", s0."DeletedAt1", s0."DeletedBy1", s0."Id1", s0."UpdatedAt1", s0."UpdatedBy1", s0."Id00", s0."CreatedAt00", s0."CreatedBy00", s0."DeletedAt00", s0."DeletedBy00", s0."Description0", s0."Name0", s0."UpdatedAt00", s0."UpdatedBy00"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."DeletedBy", u."Email", u."FirstName", u."IsActive", u."LastName", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", u0."AssignedAt", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."DeletedBy", u0."Id", u0."UpdatedAt", u0."UpdatedBy", r0."Id" AS "Id0", r0."CreatedAt" AS "CreatedAt0", r0."CreatedBy" AS "CreatedBy0", r0."DeletedAt" AS "DeletedAt0", r0."DeletedBy" AS "DeletedBy0", r0."Description", r0."Name", r0."UpdatedAt" AS "UpdatedAt0", r0."UpdatedBy" AS "UpdatedBy0", s."RoleId" AS "RoleId0", s."PermissionId", s."CreatedAt" AS "CreatedAt1", s."CreatedBy" AS "CreatedBy1", s."DeletedAt" AS "DeletedAt1", s."DeletedBy" AS "DeletedBy1", s."Id" AS "Id1", s."UpdatedAt" AS "UpdatedAt1", s."UpdatedBy" AS "UpdatedBy1", s."Id0" AS "Id00", s."CreatedAt0" AS "CreatedAt00", s."CreatedBy0" AS "CreatedBy00", s."DeletedAt0" AS "DeletedAt00", s."DeletedBy0" AS "DeletedBy00", s."Description" AS "Description0", s."Name" AS "Name0", s."UpdatedAt0" AS "UpdatedAt00", s."UpdatedBy0" AS "UpdatedBy00"
    FROM user_roles AS u0
    INNER JOIN (
        SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
        FROM roles AS r
        WHERE r."DeletedAt" IS NULL
    ) AS r0 ON u0."RoleId" = r0."Id"
    LEFT JOIN (
        SELECT r1."RoleId", r1."PermissionId", r1."CreatedAt", r1."CreatedBy", r1."DeletedAt", r1."DeletedBy", r1."Id", r1."UpdatedAt", r1."UpdatedBy", p0."Id" AS "Id0", p0."CreatedAt" AS "CreatedAt0", p0."CreatedBy" AS "CreatedBy0", p0."DeletedAt" AS "DeletedAt0", p0."DeletedBy" AS "DeletedBy0", p0."Description", p0."Name", p0."UpdatedAt" AS "UpdatedAt0", p0."UpdatedBy" AS "UpdatedBy0"
        FROM role_permissions AS r1
        INNER JOIN (
            SELECT p."Id", p."CreatedAt", p."CreatedBy", p."DeletedAt", p."DeletedBy", p."Description", p."Name", p."UpdatedAt", p."UpdatedBy"
            FROM permissions AS p
            WHERE p."DeletedAt" IS NULL
        ) AS p0 ON r1."PermissionId" = p0."Id"
        WHERE r1."DeletedAt" IS NULL
    ) AS s ON r0."Id" = s."RoleId"
    WHERE u0."DeletedAt" IS NULL
) AS s0 ON u1."Id" = s0."UserId"
ORDER BY u1."Id", s0."UserId", s0."RoleId", s0."Id0", s0."RoleId0", s0."PermissionId"
2026-02-09 17:46:52.790 +07:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 963ms 
2026-02-09 17:46:52.791 +07:00 [WRN] Slow HTTP POST /api/v1/auth/login responded 200 in 963ms 
2026-02-09 17:49:09.350 +07:00 [INF] Registered 4 endpoints in 251 milliseconds.
2026-02-09 17:49:09.910 +07:00 [INF] SQL (11ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 17:49:10.037 +07:00 [INF] SQL (4ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 17:49:10.046 +07:00 [INF] SQL (2ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 17:49:10.047 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 17:49:10.162 +07:00 [INF] SQL (1ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 17:49:10.222 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 17:52:20.090 +07:00 [INF] Registered 4 endpoints in 211 milliseconds.
2026-02-09 17:52:20.809 +07:00 [INF] SQL (11ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 17:52:20.945 +07:00 [INF] SQL (4ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 17:52:20.953 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 17:52:20.954 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 17:52:21.072 +07:00 [INF] SQL (4ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 17:52:21.131 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 17:56:40.044 +07:00 [INF] Registered 4 endpoints in 227 milliseconds.
2026-02-09 17:56:40.561 +07:00 [INF] SQL (11ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 17:56:40.694 +07:00 [INF] SQL (3ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 17:56:40.702 +07:00 [INF] SQL (0ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 17:56:40.703 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 17:56:40.817 +07:00 [INF] SQL (3ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 17:56:40.873 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 17:59:37.507 +07:00 [INF] Registered 4 endpoints in 242 milliseconds.
2026-02-09 17:59:37.996 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 17:59:38.134 +07:00 [INF] SQL (3ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 17:59:38.141 +07:00 [INF] SQL (0ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 17:59:38.142 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 17:59:38.255 +07:00 [INF] SQL (2ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 17:59:38.308 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:01:57.265 +07:00 [INF] Registered 4 endpoints in 230 milliseconds.
2026-02-09 18:01:57.849 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:01:57.987 +07:00 [INF] SQL (4ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:01:57.995 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:01:57.996 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:01:58.112 +07:00 [INF] SQL (2ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:01:58.177 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:02:30.813 +07:00 [INF] Registered 4 endpoints in 287 milliseconds.
2026-02-09 18:02:31.375 +07:00 [INF] SQL (13ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:02:31.527 +07:00 [INF] SQL (4ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:02:31.535 +07:00 [INF] SQL (0ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:02:31.536 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:02:31.686 +07:00 [INF] SQL (2ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:02:31.775 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:03:38.325 +07:00 [INF] Registered 4 endpoints in 237 milliseconds.
2026-02-09 18:03:38.845 +07:00 [INF] SQL (11ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:03:38.980 +07:00 [INF] SQL (5ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:03:38.990 +07:00 [INF] SQL (3ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:03:38.992 +07:00 [INF] SQL (1ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:03:39.106 +07:00 [INF] SQL (1ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:03:39.167 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:04:14.022 +07:00 [INF] Registered 4 endpoints in 280 milliseconds.
2026-02-09 18:04:14.680 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:04:14.805 +07:00 [INF] SQL (4ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:04:14.814 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:04:14.815 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:04:15.174 +07:00 [INF] SQL (8ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:04:15.343 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:05:32.109 +07:00 [INF] Registered 4 endpoints in 216 milliseconds.
2026-02-09 18:05:32.595 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:05:32.736 +07:00 [INF] SQL (5ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:05:32.744 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:05:32.745 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:05:32.985 +07:00 [INF] SQL (3ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:05:33.017 +07:00 [FTL] Application startup exception
System.InvalidOperationException: A suitable constructor for type 'API.Middlewares.PermissionMiddleware' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfoEx[] constructors, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2026-02-09 18:05:33.020 +07:00 [ERR] Hosting failed to start
System.InvalidOperationException: A suitable constructor for type 'API.Middlewares.PermissionMiddleware' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfoEx[] constructors, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2026-02-09 18:08:02.232 +07:00 [INF] Registered 4 endpoints in 251 milliseconds.
2026-02-09 18:08:02.766 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:08:02.907 +07:00 [INF] SQL (4ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:08:02.914 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:08:02.915 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:08:03.027 +07:00 [INF] SQL (1ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:08:03.060 +07:00 [FTL] Application startup exception
System.InvalidOperationException: A suitable constructor for type 'API.Middlewares.PermissionMiddleware' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfoEx[] constructors, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2026-02-09 18:08:03.063 +07:00 [ERR] Hosting failed to start
System.InvalidOperationException: A suitable constructor for type 'API.Middlewares.PermissionMiddleware' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.FindApplicableConstructor(Type instanceType, Type[] argumentTypes, ConstructorInfoEx[] constructors, ConstructorInfo& matchingConstructor, Nullable`1[]& matchingParameterMap)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2026-02-09 18:08:24.590 +07:00 [INF] Registered 4 endpoints in 250 milliseconds.
2026-02-09 18:08:25.057 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:08:25.193 +07:00 [INF] SQL (4ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:08:25.200 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:08:25.201 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:08:25.316 +07:00 [INF] SQL (1ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:08:25.374 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:12:46.386 +07:00 [INF] Registered 4 endpoints in 270 milliseconds.
2026-02-09 18:12:46.946 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:12:47.080 +07:00 [INF] SQL (3ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:12:47.088 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:12:47.089 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:12:47.201 +07:00 [INF] SQL (1ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:12:47.255 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:14:41.731 +07:00 [INF] Registered 4 endpoints in 250 milliseconds.
2026-02-09 18:14:42.233 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:14:42.363 +07:00 [INF] SQL (5ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:14:42.370 +07:00 [INF] SQL (0ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:14:42.371 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:14:42.521 +07:00 [INF] SQL (1ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:14:42.584 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:17:37.821 +07:00 [INF] Registered 4 endpoints in 212 milliseconds.
2026-02-09 18:17:38.390 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:17:38.535 +07:00 [INF] SQL (5ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:17:38.546 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:17:38.547 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:17:38.662 +07:00 [INF] SQL (2ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:17:38.723 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:19:47.953 +07:00 [INF] Registered 4 endpoints in 257 milliseconds.
2026-02-09 18:19:48.477 +07:00 [INF] SQL (11ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:19:48.619 +07:00 [INF] SQL (5ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:19:48.628 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:19:48.629 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:19:48.738 +07:00 [INF] SQL (2ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:19:48.795 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:19:54.215 +07:00 [INF]  PermissionMiddleware HIT 
2026-02-09 18:19:54.220 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 18:19:54.332 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 122ms 
2026-02-09 18:19:54.825 +07:00 [INF]  PermissionMiddleware HIT 
2026-02-09 18:19:54.827 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 3ms 
2026-02-09 18:19:55.115 +07:00 [INF]  PermissionMiddleware HIT 
2026-02-09 18:19:55.363 +07:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 251ms 
2026-02-09 18:20:53.269 +07:00 [INF]  PermissionMiddleware HIT 
2026-02-09 18:20:53.627 +07:00 [ERR] Unhandled system exception | /api/v1/auth/login | ed44d315-bfec-4452-8985-bacffdb21bbb
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Application.Auth.LoginUser.LoginUserHandler.Handle(User user, CancellationToken ct) in /Volumes/SSD/Dotnet/FastNet/Application/Auth/LoginUser/LoginUserHandler.cs:line 30
   at Application.Behavior.TransactionBehavior`2.Handle(TRequest request, CancellationToken ct, Func`1 next) in /Volumes/SSD/Dotnet/FastNet/Application/Behavior/TransactionBehavior.cs:line 27
   at API.Endpoints.Auth.LoginUserEndpoint.HandleAsync(LoginUserRequest req, CancellationToken ct) in /Volumes/SSD/Dotnet/FastNet/API/Endpoints/Auth/LoginUserEndpoint.cs:line 44
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at API.Extensions.LoggingMiddlewareExtension.<>c.<<UseLoggingPlatform>b__0_0>d.MoveNext() in /Volumes/SSD/Dotnet/FastNet/API/Extensions/LoggingMiddlewareExtension.cs:line 16
--- End of stack trace from previous location ---
   at API.Middlewares.CorrelationIdMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/CorrelationMiddleware.cs:line 26
   at API.Extensions.SecurityHeadersMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Extensions/HeaderExtension.cs:line 32
   at API.Middlewares.PermissionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/PermissionMiddleware.cs:line 31
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at API.Middlewares.PerformanceMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/PerformanceMiddleware.cs:line 22
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at API.Middlewares.GlobalExceptionMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/GlobalExceptionMiddleware.cs:line 27
2026-02-09 18:22:41.757 +07:00 [INF] Registered 4 endpoints in 242 milliseconds.
2026-02-09 18:22:42.293 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:22:42.424 +07:00 [INF] SQL (5ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:22:42.431 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:22:42.432 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:22:42.541 +07:00 [INF] SQL (1ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:22:42.599 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:23:33.792 +07:00 [INF] Registered 4 endpoints in 211 milliseconds.
2026-02-09 18:23:34.290 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:23:34.430 +07:00 [INF] SQL (5ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:23:34.437 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:23:34.438 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:23:34.553 +07:00 [INF] SQL (4ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:23:34.608 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:23:36.052 +07:00 [INF]  PermissionMiddleware HIT 
2026-02-09 18:23:36.054 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 18:23:36.135 +07:00 [INF] SQL (7ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 18:23:36.606 +07:00 [INF] SQL (5ms)
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
FROM roles AS r
WHERE r."DeletedAt" IS NULL AND r."Name" = @__role_0
LIMIT 1
2026-02-09 18:23:36.610 +07:00 [ERR] Unhandled system exception | /api/v1/users/create | 028738af-3482-4b9f-8b57-fa1de8ce2d57
System.InvalidOperationException: Default role not found
   at Application.Users.CreateUser.CreateUserHandler.Handle(User user, String role, CancellationToken ct) in /Volumes/SSD/Dotnet/FastNet/Application/Users/CreateUser/CreateUserHandler.cs:line 34
   at Application.Behavior.TransactionBehavior`2.Handle(TRequest request, CancellationToken ct, Func`1 next) in /Volumes/SSD/Dotnet/FastNet/Application/Behavior/TransactionBehavior.cs:line 27
   at API.Endpoints.User.CreateUserEndpoint.HandleAsync(CreateUserRequest req, CancellationToken ct) in /Volumes/SSD/Dotnet/FastNet/API/Endpoints/User/CreateUserEndpoint.cs:line 44
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at API.Extensions.LoggingMiddlewareExtension.<>c.<<UseLoggingPlatform>b__0_0>d.MoveNext() in /Volumes/SSD/Dotnet/FastNet/API/Extensions/LoggingMiddlewareExtension.cs:line 16
--- End of stack trace from previous location ---
   at API.Middlewares.CorrelationIdMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/CorrelationMiddleware.cs:line 26
   at API.Extensions.SecurityHeadersMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Extensions/HeaderExtension.cs:line 32
   at API.Middlewares.PermissionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/PermissionMiddleware.cs:line 31
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at API.Middlewares.PerformanceMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/PerformanceMiddleware.cs:line 22
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at API.Middlewares.GlobalExceptionMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/GlobalExceptionMiddleware.cs:line 27
2026-02-09 18:25:06.867 +07:00 [INF]  PermissionMiddleware HIT 
2026-02-09 18:25:07.133 +07:00 [INF] SQL (21ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 18:25:07.245 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-09 18:25:07.275 +07:00 [INF] SQL (15ms)
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."DeletedAt", u1."DeletedBy", u1."Email", u1."FirstName", u1."IsActive", u1."LastName", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s0."UserId", s0."RoleId", s0."AssignedAt", s0."CreatedAt", s0."CreatedBy", s0."DeletedAt", s0."DeletedBy", s0."Id", s0."UpdatedAt", s0."UpdatedBy", s0."Id0", s0."CreatedAt0", s0."CreatedBy0", s0."DeletedAt0", s0."DeletedBy0", s0."Description", s0."Name", s0."UpdatedAt0", s0."UpdatedBy0", s0."RoleId0", s0."PermissionId", s0."CreatedAt1", s0."CreatedBy1", s0."DeletedAt1", s0."DeletedBy1", s0."Id1", s0."UpdatedAt1", s0."UpdatedBy1", s0."Id00", s0."CreatedAt00", s0."CreatedBy00", s0."DeletedAt00", s0."DeletedBy00", s0."Description0", s0."Name0", s0."UpdatedAt00", s0."UpdatedBy00"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."DeletedBy", u."Email", u."FirstName", u."IsActive", u."LastName", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", u0."AssignedAt", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."DeletedBy", u0."Id", u0."UpdatedAt", u0."UpdatedBy", r0."Id" AS "Id0", r0."CreatedAt" AS "CreatedAt0", r0."CreatedBy" AS "CreatedBy0", r0."DeletedAt" AS "DeletedAt0", r0."DeletedBy" AS "DeletedBy0", r0."Description", r0."Name", r0."UpdatedAt" AS "UpdatedAt0", r0."UpdatedBy" AS "UpdatedBy0", s."RoleId" AS "RoleId0", s."PermissionId", s."CreatedAt" AS "CreatedAt1", s."CreatedBy" AS "CreatedBy1", s."DeletedAt" AS "DeletedAt1", s."DeletedBy" AS "DeletedBy1", s."Id" AS "Id1", s."UpdatedAt" AS "UpdatedAt1", s."UpdatedBy" AS "UpdatedBy1", s."Id0" AS "Id00", s."CreatedAt0" AS "CreatedAt00", s."CreatedBy0" AS "CreatedBy00", s."DeletedAt0" AS "DeletedAt00", s."DeletedBy0" AS "DeletedBy00", s."Description" AS "Description0", s."Name" AS "Name0", s."UpdatedAt0" AS "UpdatedAt00", s."UpdatedBy0" AS "UpdatedBy00"
    FROM user_roles AS u0
    INNER JOIN (
        SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
        FROM roles AS r
        WHERE r."DeletedAt" IS NULL
    ) AS r0 ON u0."RoleId" = r0."Id"
    LEFT JOIN (
        SELECT r1."RoleId", r1."PermissionId", r1."CreatedAt", r1."CreatedBy", r1."DeletedAt", r1."DeletedBy", r1."Id", r1."UpdatedAt", r1."UpdatedBy", p0."Id" AS "Id0", p0."CreatedAt" AS "CreatedAt0", p0."CreatedBy" AS "CreatedBy0", p0."DeletedAt" AS "DeletedAt0", p0."DeletedBy" AS "DeletedBy0", p0."Description", p0."Name", p0."UpdatedAt" AS "UpdatedAt0", p0."UpdatedBy" AS "UpdatedBy0"
        FROM role_permissions AS r1
        INNER JOIN (
            SELECT p."Id", p."CreatedAt", p."CreatedBy", p."DeletedAt", p."DeletedBy", p."Description", p."Name", p."UpdatedAt", p."UpdatedBy"
            FROM permissions AS p
            WHERE p."DeletedAt" IS NULL
        ) AS p0 ON r1."PermissionId" = p0."Id"
        WHERE r1."DeletedAt" IS NULL
    ) AS s ON r0."Id" = s."RoleId"
    WHERE u0."DeletedAt" IS NULL
) AS s0 ON u1."Id" = s0."UserId"
ORDER BY u1."Id", s0."UserId", s0."RoleId", s0."Id0", s0."RoleId0", s0."PermissionId"
2026-02-09 18:25:07.668 +07:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 805ms 
2026-02-09 18:25:07.668 +07:00 [WRN] Slow HTTP POST /api/v1/auth/login responded 200 in 805ms 
2026-02-09 18:27:50.269 +07:00 [INF] Registered 4 endpoints in 252 milliseconds.
2026-02-09 18:27:50.817 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:27:50.962 +07:00 [INF] SQL (4ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:27:50.973 +07:00 [INF] SQL (5ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:27:50.975 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:27:51.090 +07:00 [INF] SQL (1ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:27:51.157 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:30:34.401 +07:00 [INF] Registered 4 endpoints in 275 milliseconds.
2026-02-09 18:30:34.985 +07:00 [INF] SQL (11ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:30:35.136 +07:00 [INF] SQL (4ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:30:35.143 +07:00 [INF] SQL (0ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:30:35.144 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:30:35.308 +07:00 [INF] SQL (2ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:30:35.367 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:30:40.246 +07:00 [INF]  PermissionMiddleware HIT 
2026-02-09 18:30:40.249 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 18:30:40.367 +07:00 [INF] SQL (4ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 18:30:40.433 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-09 18:30:40.457 +07:00 [INF] SQL (8ms)
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."DeletedAt", u1."DeletedBy", u1."Email", u1."FirstName", u1."IsActive", u1."LastName", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s0."UserId", s0."RoleId", s0."AssignedAt", s0."CreatedAt", s0."CreatedBy", s0."DeletedAt", s0."DeletedBy", s0."Id", s0."UpdatedAt", s0."UpdatedBy", s0."Id0", s0."CreatedAt0", s0."CreatedBy0", s0."DeletedAt0", s0."DeletedBy0", s0."Description", s0."Name", s0."UpdatedAt0", s0."UpdatedBy0", s0."RoleId0", s0."PermissionId", s0."CreatedAt1", s0."CreatedBy1", s0."DeletedAt1", s0."DeletedBy1", s0."Id1", s0."UpdatedAt1", s0."UpdatedBy1", s0."Id00", s0."CreatedAt00", s0."CreatedBy00", s0."DeletedAt00", s0."DeletedBy00", s0."Description0", s0."Name0", s0."UpdatedAt00", s0."UpdatedBy00"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."DeletedBy", u."Email", u."FirstName", u."IsActive", u."LastName", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", u0."AssignedAt", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."DeletedBy", u0."Id", u0."UpdatedAt", u0."UpdatedBy", r0."Id" AS "Id0", r0."CreatedAt" AS "CreatedAt0", r0."CreatedBy" AS "CreatedBy0", r0."DeletedAt" AS "DeletedAt0", r0."DeletedBy" AS "DeletedBy0", r0."Description", r0."Name", r0."UpdatedAt" AS "UpdatedAt0", r0."UpdatedBy" AS "UpdatedBy0", s."RoleId" AS "RoleId0", s."PermissionId", s."CreatedAt" AS "CreatedAt1", s."CreatedBy" AS "CreatedBy1", s."DeletedAt" AS "DeletedAt1", s."DeletedBy" AS "DeletedBy1", s."Id" AS "Id1", s."UpdatedAt" AS "UpdatedAt1", s."UpdatedBy" AS "UpdatedBy1", s."Id0" AS "Id00", s."CreatedAt0" AS "CreatedAt00", s."CreatedBy0" AS "CreatedBy00", s."DeletedAt0" AS "DeletedAt00", s."DeletedBy0" AS "DeletedBy00", s."Description" AS "Description0", s."Name" AS "Name0", s."UpdatedAt0" AS "UpdatedAt00", s."UpdatedBy0" AS "UpdatedBy00"
    FROM user_roles AS u0
    INNER JOIN (
        SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
        FROM roles AS r
        WHERE r."DeletedAt" IS NULL
    ) AS r0 ON u0."RoleId" = r0."Id"
    LEFT JOIN (
        SELECT r1."RoleId", r1."PermissionId", r1."CreatedAt", r1."CreatedBy", r1."DeletedAt", r1."DeletedBy", r1."Id", r1."UpdatedAt", r1."UpdatedBy", p0."Id" AS "Id0", p0."CreatedAt" AS "CreatedAt0", p0."CreatedBy" AS "CreatedBy0", p0."DeletedAt" AS "DeletedAt0", p0."DeletedBy" AS "DeletedBy0", p0."Description", p0."Name", p0."UpdatedAt" AS "UpdatedAt0", p0."UpdatedBy" AS "UpdatedBy0"
        FROM role_permissions AS r1
        INNER JOIN (
            SELECT p."Id", p."CreatedAt", p."CreatedBy", p."DeletedAt", p."DeletedBy", p."Description", p."Name", p."UpdatedAt", p."UpdatedBy"
            FROM permissions AS p
            WHERE p."DeletedAt" IS NULL
        ) AS p0 ON r1."PermissionId" = p0."Id"
        WHERE r1."DeletedAt" IS NULL
    ) AS s ON r0."Id" = s."RoleId"
    WHERE u0."DeletedAt" IS NULL
) AS s0 ON u1."Id" = s0."UserId"
ORDER BY u1."Id", s0."UserId", s0."RoleId", s0."Id0", s0."RoleId0", s0."PermissionId"
2026-02-09 18:30:41.052 +07:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 809ms 
2026-02-09 18:30:41.053 +07:00 [WRN] Slow HTTP POST /api/v1/auth/login responded 200 in 809ms 
2026-02-09 18:30:52.639 +07:00 [INF]  PermissionMiddleware HIT 
2026-02-09 18:30:52.728 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 96ms 
2026-02-09 18:31:34.211 +07:00 [INF] Registered 4 endpoints in 273 milliseconds.
2026-02-09 18:31:34.723 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:31:34.862 +07:00 [INF] SQL (5ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:31:34.869 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:31:34.871 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:31:34.984 +07:00 [INF] SQL (1ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:31:35.042 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:31:36.874 +07:00 [INF]  PermissionMiddleware HIT 
2026-02-09 18:31:36.875 +07:00 [INF] Endpoint requires permissions: 
2026-02-09 18:31:36.876 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 18:31:36.964 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 93ms 
2026-02-09 18:32:45.737 +07:00 [INF] Registered 4 endpoints in 194 milliseconds.
2026-02-09 18:32:46.223 +07:00 [INF] SQL (13ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:32:46.368 +07:00 [INF] SQL (5ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:32:46.377 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:32:46.380 +07:00 [INF] SQL (1ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:32:46.539 +07:00 [INF] SQL (2ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:32:46.626 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:32:48.542 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 18:32:48.624 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 82ms 
2026-02-09 18:32:50.874 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 3ms 
2026-02-09 18:33:48.097 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 23ms 
2026-02-09 18:36:10.023 +07:00 [INF] Registered 4 endpoints in 273 milliseconds.
2026-02-09 18:36:10.695 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:36:10.820 +07:00 [INF] SQL (4ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:36:10.828 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:36:10.830 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:36:10.958 +07:00 [INF] SQL (2ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:36:11.041 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:36:12.162 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 18:36:12.249 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 87ms 
2026-02-09 18:36:13.354 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 2ms 
2026-02-09 18:36:14.363 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 3ms 
2026-02-09 18:36:14.989 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 0ms 
2026-02-09 18:36:15.377 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 1ms 
2026-02-09 18:36:15.561 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 0ms 
2026-02-09 18:36:15.669 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 0ms 
2026-02-09 18:36:15.845 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 0ms 
2026-02-09 18:36:16.028 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 0ms 
2026-02-09 18:36:16.197 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 0ms 
2026-02-09 18:36:16.366 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 7ms 
2026-02-09 18:36:16.580 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 0ms 
2026-02-09 18:36:16.728 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 0ms 
2026-02-09 18:36:16.937 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 0ms 
2026-02-09 18:40:56.170 +07:00 [INF] Registered 4 endpoints in 237 milliseconds.
2026-02-09 18:40:56.659 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:40:56.796 +07:00 [INF] SQL (4ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:40:56.804 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:40:56.805 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:40:56.919 +07:00 [INF] SQL (2ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:40:56.973 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:41:00.291 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 18:41:00.375 +07:00 [INF]  PermissionMiddleware HIT 
2026-02-09 18:41:00.377 +07:00 [INF] Endpoint requires permissions: 
2026-02-09 18:41:00.455 +07:00 [INF] SQL (5ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 18:41:00.953 +07:00 [INF] SQL (3ms)
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
FROM roles AS r
WHERE r."DeletedAt" IS NULL AND r."Name" = @__role_0
LIMIT 1
2026-02-09 18:41:00.957 +07:00 [ERR] Unhandled system exception | /api/v1/users/create | ea4ff2af-4f53-4a9d-a9b7-5447c7a87ce4
System.InvalidOperationException: Default role not found
   at Application.Users.CreateUser.CreateUserHandler.Handle(User user, String role, CancellationToken ct) in /Volumes/SSD/Dotnet/FastNet/Application/Users/CreateUser/CreateUserHandler.cs:line 34
   at Application.Behavior.TransactionBehavior`2.Handle(TRequest request, CancellationToken ct, Func`1 next) in /Volumes/SSD/Dotnet/FastNet/Application/Behavior/TransactionBehavior.cs:line 27
   at API.Endpoints.User.CreateUserEndpoint.HandleAsync(CreateUserRequest req, CancellationToken ct) in /Volumes/SSD/Dotnet/FastNet/API/Endpoints/User/CreateUserEndpoint.cs:line 44
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at API.Middlewares.PermissionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/PermissionMiddleware.cs:line 33
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at API.Extensions.LoggingMiddlewareExtension.<>c.<<UseLoggingPlatform>b__0_0>d.MoveNext() in /Volumes/SSD/Dotnet/FastNet/API/Extensions/LoggingMiddlewareExtension.cs:line 16
--- End of stack trace from previous location ---
   at API.Middlewares.CorrelationIdMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/CorrelationMiddleware.cs:line 26
   at API.Extensions.SecurityHeadersMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Extensions/HeaderExtension.cs:line 32
   at API.Middlewares.PerformanceMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/PerformanceMiddleware.cs:line 22
   at API.Middlewares.GlobalExceptionMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/GlobalExceptionMiddleware.cs:line 27
2026-02-09 18:42:33.429 +07:00 [INF] Registered 4 endpoints in 245 milliseconds.
2026-02-09 18:42:33.949 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:42:34.088 +07:00 [INF] SQL (5ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:42:34.095 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:42:34.096 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:42:34.209 +07:00 [INF] SQL (2ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:42:34.265 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:42:54.283 +07:00 [INF] Registered 4 endpoints in 140 milliseconds.
2026-02-09 18:42:54.711 +07:00 [INF] SQL (11ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:42:54.851 +07:00 [INF] SQL (3ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:42:54.857 +07:00 [INF] SQL (0ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:42:54.858 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:42:54.973 +07:00 [INF] SQL (1ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:42:55.022 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:42:59.094 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 18:42:59.245 +07:00 [INF] SQL (4ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 18:42:59.744 +07:00 [INF] SQL (4ms)
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
FROM roles AS r
WHERE r."DeletedAt" IS NULL AND r."Name" = @__role_0
LIMIT 1
2026-02-09 18:42:59.749 +07:00 [ERR] Unhandled system exception | /api/v1/users/create | 3af5edad-e5e2-4b0d-880c-8eed307e10a4
System.InvalidOperationException: Default role not found
   at Application.Users.CreateUser.CreateUserHandler.Handle(User user, String role, CancellationToken ct) in /Volumes/SSD/Dotnet/FastNet/Application/Users/CreateUser/CreateUserHandler.cs:line 34
   at Application.Behavior.TransactionBehavior`2.Handle(TRequest request, CancellationToken ct, Func`1 next) in /Volumes/SSD/Dotnet/FastNet/Application/Behavior/TransactionBehavior.cs:line 27
   at API.Endpoints.User.CreateUserEndpoint.HandleAsync(CreateUserRequest req, CancellationToken ct) in /Volumes/SSD/Dotnet/FastNet/API/Endpoints/User/CreateUserEndpoint.cs:line 44
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at API.Middlewares.PermissionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/PermissionMiddleware.cs:line 27
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at API.Extensions.LoggingMiddlewareExtension.<>c.<<UseLoggingPlatform>b__0_0>d.MoveNext() in /Volumes/SSD/Dotnet/FastNet/API/Extensions/LoggingMiddlewareExtension.cs:line 16
--- End of stack trace from previous location ---
   at API.Middlewares.CorrelationIdMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/CorrelationMiddleware.cs:line 26
   at API.Extensions.SecurityHeadersMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Extensions/HeaderExtension.cs:line 32
   at API.Middlewares.PerformanceMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/PerformanceMiddleware.cs:line 22
   at API.Middlewares.GlobalExceptionMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/GlobalExceptionMiddleware.cs:line 27
2026-02-09 18:43:05.231 +07:00 [INF] SQL (0ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 18:43:05.287 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-09 18:43:05.307 +07:00 [INF] SQL (8ms)
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."DeletedAt", u1."DeletedBy", u1."Email", u1."FirstName", u1."IsActive", u1."LastName", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s0."UserId", s0."RoleId", s0."AssignedAt", s0."CreatedAt", s0."CreatedBy", s0."DeletedAt", s0."DeletedBy", s0."Id", s0."UpdatedAt", s0."UpdatedBy", s0."Id0", s0."CreatedAt0", s0."CreatedBy0", s0."DeletedAt0", s0."DeletedBy0", s0."Description", s0."Name", s0."UpdatedAt0", s0."UpdatedBy0", s0."RoleId0", s0."PermissionId", s0."CreatedAt1", s0."CreatedBy1", s0."DeletedAt1", s0."DeletedBy1", s0."Id1", s0."UpdatedAt1", s0."UpdatedBy1", s0."Id00", s0."CreatedAt00", s0."CreatedBy00", s0."DeletedAt00", s0."DeletedBy00", s0."Description0", s0."Name0", s0."UpdatedAt00", s0."UpdatedBy00"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."DeletedBy", u."Email", u."FirstName", u."IsActive", u."LastName", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", u0."AssignedAt", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."DeletedBy", u0."Id", u0."UpdatedAt", u0."UpdatedBy", r0."Id" AS "Id0", r0."CreatedAt" AS "CreatedAt0", r0."CreatedBy" AS "CreatedBy0", r0."DeletedAt" AS "DeletedAt0", r0."DeletedBy" AS "DeletedBy0", r0."Description", r0."Name", r0."UpdatedAt" AS "UpdatedAt0", r0."UpdatedBy" AS "UpdatedBy0", s."RoleId" AS "RoleId0", s."PermissionId", s."CreatedAt" AS "CreatedAt1", s."CreatedBy" AS "CreatedBy1", s."DeletedAt" AS "DeletedAt1", s."DeletedBy" AS "DeletedBy1", s."Id" AS "Id1", s."UpdatedAt" AS "UpdatedAt1", s."UpdatedBy" AS "UpdatedBy1", s."Id0" AS "Id00", s."CreatedAt0" AS "CreatedAt00", s."CreatedBy0" AS "CreatedBy00", s."DeletedAt0" AS "DeletedAt00", s."DeletedBy0" AS "DeletedBy00", s."Description" AS "Description0", s."Name" AS "Name0", s."UpdatedAt0" AS "UpdatedAt00", s."UpdatedBy0" AS "UpdatedBy00"
    FROM user_roles AS u0
    INNER JOIN (
        SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
        FROM roles AS r
        WHERE r."DeletedAt" IS NULL
    ) AS r0 ON u0."RoleId" = r0."Id"
    LEFT JOIN (
        SELECT r1."RoleId", r1."PermissionId", r1."CreatedAt", r1."CreatedBy", r1."DeletedAt", r1."DeletedBy", r1."Id", r1."UpdatedAt", r1."UpdatedBy", p0."Id" AS "Id0", p0."CreatedAt" AS "CreatedAt0", p0."CreatedBy" AS "CreatedBy0", p0."DeletedAt" AS "DeletedAt0", p0."DeletedBy" AS "DeletedBy0", p0."Description", p0."Name", p0."UpdatedAt" AS "UpdatedAt0", p0."UpdatedBy" AS "UpdatedBy0"
        FROM role_permissions AS r1
        INNER JOIN (
            SELECT p."Id", p."CreatedAt", p."CreatedBy", p."DeletedAt", p."DeletedBy", p."Description", p."Name", p."UpdatedAt", p."UpdatedBy"
            FROM permissions AS p
            WHERE p."DeletedAt" IS NULL
        ) AS p0 ON r1."PermissionId" = p0."Id"
        WHERE r1."DeletedAt" IS NULL
    ) AS s ON r0."Id" = s."RoleId"
    WHERE u0."DeletedAt" IS NULL
) AS s0 ON u1."Id" = s0."UserId"
ORDER BY u1."Id", s0."UserId", s0."RoleId", s0."Id0", s0."RoleId0", s0."PermissionId"
2026-02-09 18:43:05.663 +07:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 482ms 
2026-02-09 18:43:18.023 +07:00 [INF] SQL (1ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 18:43:18.346 +07:00 [INF] SQL (0ms)
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
FROM roles AS r
WHERE r."DeletedAt" IS NULL AND r."Name" = @__role_0
LIMIT 1
2026-02-09 18:43:18.346 +07:00 [ERR] Unhandled system exception | /api/v1/users/create | 1a5a0c33-e3b1-47cf-9673-6cd0e00649f2
System.InvalidOperationException: Default role not found
   at Application.Users.CreateUser.CreateUserHandler.Handle(User user, String role, CancellationToken ct) in /Volumes/SSD/Dotnet/FastNet/Application/Users/CreateUser/CreateUserHandler.cs:line 34
   at Application.Behavior.TransactionBehavior`2.Handle(TRequest request, CancellationToken ct, Func`1 next) in /Volumes/SSD/Dotnet/FastNet/Application/Behavior/TransactionBehavior.cs:line 27
   at API.Endpoints.User.CreateUserEndpoint.HandleAsync(CreateUserRequest req, CancellationToken ct) in /Volumes/SSD/Dotnet/FastNet/API/Endpoints/User/CreateUserEndpoint.cs:line 44
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at API.Middlewares.PermissionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/PermissionMiddleware.cs:line 27
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at API.Extensions.LoggingMiddlewareExtension.<>c.<<UseLoggingPlatform>b__0_0>d.MoveNext() in /Volumes/SSD/Dotnet/FastNet/API/Extensions/LoggingMiddlewareExtension.cs:line 16
--- End of stack trace from previous location ---
   at API.Middlewares.CorrelationIdMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/CorrelationMiddleware.cs:line 26
   at API.Extensions.SecurityHeadersMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Extensions/HeaderExtension.cs:line 32
   at API.Middlewares.PerformanceMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/PerformanceMiddleware.cs:line 22
   at API.Middlewares.GlobalExceptionMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/GlobalExceptionMiddleware.cs:line 27
2026-02-09 18:44:46.067 +07:00 [INF] Registered 4 endpoints in 297 milliseconds.
2026-02-09 18:44:46.625 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:44:46.755 +07:00 [INF] SQL (5ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:44:46.766 +07:00 [INF] SQL (2ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:44:46.769 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:44:46.888 +07:00 [INF] SQL (3ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:44:46.947 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:44:52.349 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 18:44:52.425 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 76ms 
2026-02-09 18:48:50.801 +07:00 [INF] Registered 4 endpoints in 238 milliseconds.
2026-02-09 18:48:51.424 +07:00 [INF] SQL (23ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:48:51.588 +07:00 [INF] SQL (5ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:48:51.597 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:48:51.598 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:48:51.713 +07:00 [INF] SQL (1ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:48:51.779 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:48:53.561 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 18:48:53.652 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 91ms 
2026-02-09 18:49:03.894 +07:00 [INF] SQL (7ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 18:49:04.000 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-09 18:49:04.028 +07:00 [INF] SQL (7ms)
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."DeletedAt", u1."DeletedBy", u1."Email", u1."FirstName", u1."IsActive", u1."LastName", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s0."UserId", s0."RoleId", s0."AssignedAt", s0."CreatedAt", s0."CreatedBy", s0."DeletedAt", s0."DeletedBy", s0."Id", s0."UpdatedAt", s0."UpdatedBy", s0."Id0", s0."CreatedAt0", s0."CreatedBy0", s0."DeletedAt0", s0."DeletedBy0", s0."Description", s0."Name", s0."UpdatedAt0", s0."UpdatedBy0", s0."RoleId0", s0."PermissionId", s0."CreatedAt1", s0."CreatedBy1", s0."DeletedAt1", s0."DeletedBy1", s0."Id1", s0."UpdatedAt1", s0."UpdatedBy1", s0."Id00", s0."CreatedAt00", s0."CreatedBy00", s0."DeletedAt00", s0."DeletedBy00", s0."Description0", s0."Name0", s0."UpdatedAt00", s0."UpdatedBy00"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."DeletedBy", u."Email", u."FirstName", u."IsActive", u."LastName", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", u0."AssignedAt", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."DeletedBy", u0."Id", u0."UpdatedAt", u0."UpdatedBy", r0."Id" AS "Id0", r0."CreatedAt" AS "CreatedAt0", r0."CreatedBy" AS "CreatedBy0", r0."DeletedAt" AS "DeletedAt0", r0."DeletedBy" AS "DeletedBy0", r0."Description", r0."Name", r0."UpdatedAt" AS "UpdatedAt0", r0."UpdatedBy" AS "UpdatedBy0", s."RoleId" AS "RoleId0", s."PermissionId", s."CreatedAt" AS "CreatedAt1", s."CreatedBy" AS "CreatedBy1", s."DeletedAt" AS "DeletedAt1", s."DeletedBy" AS "DeletedBy1", s."Id" AS "Id1", s."UpdatedAt" AS "UpdatedAt1", s."UpdatedBy" AS "UpdatedBy1", s."Id0" AS "Id00", s."CreatedAt0" AS "CreatedAt00", s."CreatedBy0" AS "CreatedBy00", s."DeletedAt0" AS "DeletedAt00", s."DeletedBy0" AS "DeletedBy00", s."Description" AS "Description0", s."Name" AS "Name0", s."UpdatedAt0" AS "UpdatedAt00", s."UpdatedBy0" AS "UpdatedBy00"
    FROM user_roles AS u0
    INNER JOIN (
        SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
        FROM roles AS r
        WHERE r."DeletedAt" IS NULL
    ) AS r0 ON u0."RoleId" = r0."Id"
    LEFT JOIN (
        SELECT r1."RoleId", r1."PermissionId", r1."CreatedAt", r1."CreatedBy", r1."DeletedAt", r1."DeletedBy", r1."Id", r1."UpdatedAt", r1."UpdatedBy", p0."Id" AS "Id0", p0."CreatedAt" AS "CreatedAt0", p0."CreatedBy" AS "CreatedBy0", p0."DeletedAt" AS "DeletedAt0", p0."DeletedBy" AS "DeletedBy0", p0."Description", p0."Name", p0."UpdatedAt" AS "UpdatedAt0", p0."UpdatedBy" AS "UpdatedBy0"
        FROM role_permissions AS r1
        INNER JOIN (
            SELECT p."Id", p."CreatedAt", p."CreatedBy", p."DeletedAt", p."DeletedBy", p."Description", p."Name", p."UpdatedAt", p."UpdatedBy"
            FROM permissions AS p
            WHERE p."DeletedAt" IS NULL
        ) AS p0 ON r1."PermissionId" = p0."Id"
        WHERE r1."DeletedAt" IS NULL
    ) AS s ON r0."Id" = s."RoleId"
    WHERE u0."DeletedAt" IS NULL
) AS s0 ON u1."Id" = s0."UserId"
ORDER BY u1."Id", s0."UserId", s0."RoleId", s0."Id0", s0."RoleId0", s0."PermissionId"
2026-02-09 18:49:04.636 +07:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 841ms 
2026-02-09 18:49:04.636 +07:00 [WRN] Slow HTTP POST /api/v1/auth/login responded 200 in 841ms 
2026-02-09 18:49:17.060 +07:00 [INF] Checking permissions for roles: Admin
2026-02-09 18:49:17.203 +07:00 [INF] SQL (44ms)
SELECT DISTINCT p0."Name"
FROM roles AS r
INNER JOIN (
    SELECT r0."RoleId", r0."PermissionId"
    FROM role_permissions AS r0
    WHERE r0."DeletedAt" IS NULL
) AS r1 ON r."Id" = r1."RoleId"
INNER JOIN (
    SELECT p."Id", p."Name"
    FROM permissions AS p
    WHERE p."DeletedAt" IS NULL
) AS p0 ON r1."PermissionId" = p0."Id"
WHERE r."DeletedAt" IS NULL AND r."Name" = ANY (@__rolesList_0)
2026-02-09 18:49:17.204 +07:00 [INF] Found 12 permissions: permissions.create, permissions.delete, permissions.read, permissions.update, roles.create, roles.delete, roles.read, roles.update, users.create, users.delete, users.read, users.update
2026-02-09 18:49:17.204 +07:00 [INF] Permission check result: true
2026-02-09 18:49:17.232 +07:00 [INF] SQL (0ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 18:49:17.734 +07:00 [INF] SQL (1ms)
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
FROM roles AS r
WHERE r."DeletedAt" IS NULL AND r."Name" = @__role_0
LIMIT 1
2026-02-09 18:49:17.740 +07:00 [ERR] Unhandled system exception | /api/v1/users/create | 6a3aa5b6-1e60-4aa6-a031-9425622e6086
System.InvalidOperationException: Default role not found
   at Application.Users.CreateUser.CreateUserHandler.Handle(User user, String role, CancellationToken ct) in /Volumes/SSD/Dotnet/FastNet/Application/Users/CreateUser/CreateUserHandler.cs:line 34
   at Application.Behavior.TransactionBehavior`2.Handle(TRequest request, CancellationToken ct, Func`1 next) in /Volumes/SSD/Dotnet/FastNet/Application/Behavior/TransactionBehavior.cs:line 27
   at API.Endpoints.User.CreateUserEndpoint.HandleAsync(CreateUserRequest req, CancellationToken ct) in /Volumes/SSD/Dotnet/FastNet/API/Endpoints/User/CreateUserEndpoint.cs:line 44
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at FastEndpoints.Endpoint`2.ExecAsync(CancellationToken ct)
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.OpenApiDocumentMiddleware.Invoke(HttpContext context)
   at API.Middlewares.PermissionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/PermissionMiddleware.cs:line 56
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at API.Extensions.LoggingMiddlewareExtension.<>c.<<UseLoggingPlatform>b__0_0>d.MoveNext() in /Volumes/SSD/Dotnet/FastNet/API/Extensions/LoggingMiddlewareExtension.cs:line 16
--- End of stack trace from previous location ---
   at API.Middlewares.CorrelationIdMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/CorrelationMiddleware.cs:line 26
   at API.Extensions.SecurityHeadersMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Extensions/HeaderExtension.cs:line 32
   at API.Middlewares.PerformanceMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/PerformanceMiddleware.cs:line 22
   at API.Middlewares.GlobalExceptionMiddleware.Invoke(HttpContext context) in /Volumes/SSD/Dotnet/FastNet/API/Middlewares/GlobalExceptionMiddleware.cs:line 27
2026-02-09 18:51:23.741 +07:00 [INF] Registered 4 endpoints in 236 milliseconds.
2026-02-09 18:51:24.287 +07:00 [INF] SQL (12ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:51:24.427 +07:00 [INF] SQL (5ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:51:24.434 +07:00 [INF] SQL (0ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:51:24.435 +07:00 [INF] SQL (0ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:51:24.553 +07:00 [INF] SQL (2ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:51:24.612 +07:00 [INF] Listening on http://localhost:5284
2026-02-09 18:51:30.942 +07:00 [WRN] Failed to determine the https port for redirect.
2026-02-09 18:51:31.074 +07:00 [INF] SQL (5ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0)
2026-02-09 18:51:31.136 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2026-02-09 18:51:31.158 +07:00 [INF] SQL (8ms)
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."DeletedAt", u1."DeletedBy", u1."Email", u1."FirstName", u1."IsActive", u1."LastName", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s0."UserId", s0."RoleId", s0."AssignedAt", s0."CreatedAt", s0."CreatedBy", s0."DeletedAt", s0."DeletedBy", s0."Id", s0."UpdatedAt", s0."UpdatedBy", s0."Id0", s0."CreatedAt0", s0."CreatedBy0", s0."DeletedAt0", s0."DeletedBy0", s0."Description", s0."Name", s0."UpdatedAt0", s0."UpdatedBy0", s0."RoleId0", s0."PermissionId", s0."CreatedAt1", s0."CreatedBy1", s0."DeletedAt1", s0."DeletedBy1", s0."Id1", s0."UpdatedAt1", s0."UpdatedBy1", s0."Id00", s0."CreatedAt00", s0."CreatedBy00", s0."DeletedAt00", s0."DeletedBy00", s0."Description0", s0."Name0", s0."UpdatedAt00", s0."UpdatedBy00"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."DeletedBy", u."Email", u."FirstName", u."IsActive", u."LastName", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM users AS u
    WHERE u."DeletedAt" IS NULL AND u."Email" = @__user_Email_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."UserId", u0."RoleId", u0."AssignedAt", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."DeletedBy", u0."Id", u0."UpdatedAt", u0."UpdatedBy", r0."Id" AS "Id0", r0."CreatedAt" AS "CreatedAt0", r0."CreatedBy" AS "CreatedBy0", r0."DeletedAt" AS "DeletedAt0", r0."DeletedBy" AS "DeletedBy0", r0."Description", r0."Name", r0."UpdatedAt" AS "UpdatedAt0", r0."UpdatedBy" AS "UpdatedBy0", s."RoleId" AS "RoleId0", s."PermissionId", s."CreatedAt" AS "CreatedAt1", s."CreatedBy" AS "CreatedBy1", s."DeletedAt" AS "DeletedAt1", s."DeletedBy" AS "DeletedBy1", s."Id" AS "Id1", s."UpdatedAt" AS "UpdatedAt1", s."UpdatedBy" AS "UpdatedBy1", s."Id0" AS "Id00", s."CreatedAt0" AS "CreatedAt00", s."CreatedBy0" AS "CreatedBy00", s."DeletedAt0" AS "DeletedAt00", s."DeletedBy0" AS "DeletedBy00", s."Description" AS "Description0", s."Name" AS "Name0", s."UpdatedAt0" AS "UpdatedAt00", s."UpdatedBy0" AS "UpdatedBy00"
    FROM user_roles AS u0
    INNER JOIN (
        SELECT r."Id", r."CreatedAt", r."CreatedBy", r."DeletedAt", r."DeletedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy"
        FROM roles AS r
        WHERE r."DeletedAt" IS NULL
    ) AS r0 ON u0."RoleId" = r0."Id"
    LEFT JOIN (
        SELECT r1."RoleId", r1."PermissionId", r1."CreatedAt", r1."CreatedBy", r1."DeletedAt", r1."DeletedBy", r1."Id", r1."UpdatedAt", r1."UpdatedBy", p0."Id" AS "Id0", p0."CreatedAt" AS "CreatedAt0", p0."CreatedBy" AS "CreatedBy0", p0."DeletedAt" AS "DeletedAt0", p0."DeletedBy" AS "DeletedBy0", p0."Description", p0."Name", p0."UpdatedAt" AS "UpdatedAt0", p0."UpdatedBy" AS "UpdatedBy0"
        FROM role_permissions AS r1
        INNER JOIN (
            SELECT p."Id", p."CreatedAt", p."CreatedBy", p."DeletedAt", p."DeletedBy", p."Description", p."Name", p."UpdatedAt", p."UpdatedBy"
            FROM permissions AS p
            WHERE p."DeletedAt" IS NULL
        ) AS p0 ON r1."PermissionId" = p0."Id"
        WHERE r1."DeletedAt" IS NULL
    ) AS s ON r0."Id" = s."RoleId"
    WHERE u0."DeletedAt" IS NULL
) AS s0 ON u1."Id" = s0."UserId"
ORDER BY u1."Id", s0."UserId", s0."RoleId", s0."Id0", s0."RoleId0", s0."PermissionId"
2026-02-09 18:51:31.763 +07:00 [INF] HTTP POST /api/v1/auth/login responded 200 in 822ms 
2026-02-09 18:51:31.763 +07:00 [WRN] Slow HTTP POST /api/v1/auth/login responded 200 in 822ms 
2026-02-09 18:51:44.937 +07:00 [INF] HTTP POST /api/v1/users/create responded 403 in 39ms 
2026-02-09 18:53:19.109 +07:00 [INF] Registered 4 endpoints in 262 milliseconds.
2026-02-09 18:53:19.644 +07:00 [INF] SQL (15ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:53:19.818 +07:00 [INF] SQL (4ms)
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);


2026-02-09 18:53:19.826 +07:00 [INF] SQL (1ms)
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2026-02-09 18:53:19.828 +07:00 [INF] SQL (1ms)
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2026-02-09 18:53:20.048 +07:00 [INF] SQL (2ms)
SELECT EXISTS (
    SELECT 1
    FROM users AS u
    WHERE u."DeletedAt" IS NULL)
2026-02-09 18:53:20.123 +07:00 [INF] Listening on http://localhost:5284
